{"version":3,"sources":["modules/views/ArtefactsView.js"],"names":[],"mappings":"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","file":"modules/views/ArtefactsView.js","sourcesContent":["Kenseo.views.Artefacts = Backbone.View.extend({\r\n    // The DOM Element associated with this view\r\n    el: '.review-requests-content',\r\n    itemView: function itemView(x) {\r\n        return new Kenseo.views.Artefact(x);\r\n    },\r\n    // View constructor\r\n    initialize: function initialize(payload) {\r\n        this.data = payload.data;\r\n        this.colStr = payload.colStr;\r\n        this.el = payload.el;\r\n        this.$el.html(this.template);\r\n        this.preLoader = payload.preLoader;\r\n        this.id = payload.id;\r\n        this.stopRenderX = payload.stopRenderX;\r\n        // this.payload = payload;\r\n        this.render();\r\n    },\r\n    render: function render() {\r\n        sb.renderXTemplate(this);\r\n\r\n        return this;\r\n    }\r\n});\r\n\r\nKenseo.views.Artefact = Backbone.View.extend({\r\n    // The DOM Element associated with this view\r\n    tagName: 'a',\r\n    className: 'review-request-item',\r\n    template: _.template(templates['artefact']),\r\n    // View constructor\r\n    initialize: function initialize() {\r\n        this.listenTo(this.model, 'remove', this.remove);\r\n    },\r\n    events: {\r\n        'click .popup-click': 'openPopup',\r\n        'click .artefact-cur-version': 'toggleVersions'\r\n    },\r\n    render: function render() {\r\n        var data = this.model.toJSON();\r\n        var html = this.template({ data: data });\r\n        this.$el.append(html);\r\n        var dataComparer = -1;\r\n        this.$el.attr('data-pass', (function () {\r\n            if (dataComparer == data.linkedId) {\r\n                dataComparer = data.linkedId;\r\n                return 1;\r\n            } else {\r\n                dataComparer = data.linkedId;\r\n                return 0;\r\n            }\r\n        })());\r\n\r\n        this.$el.attr('href', '#documentview/' + data.versionId);\r\n\r\n        return this;\r\n    },\r\n    openPopup: function openPopup(e) {\r\n        e.preventDefault();\r\n        // var model = this.model.collection.get($(e.currentTarget).data('id'));\r\n        sb.setPopupData(this.model.toJSON());\r\n\r\n        // Kenseo.currentModel = model;\r\n    },\r\n    toggleVersions: function toggleVersions(e) {\r\n        var $self = $(this);\r\n        var num = +$self.html().substr(1);\r\n        if (num > 0) {\r\n            $self.toggleClass('active');\r\n        }\r\n    }\r\n});"],"sourceRoot":"/source/"}