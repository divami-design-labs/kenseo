{"version":3,"sources":["common/ServerCommunication.js"],"names":[],"mappings":";;AAAA,SAAS,gBAAgB,GAAG;AAC3B,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;AACxB,KAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;AAClC,KAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;;AAElC,KAAI,CAAC,gBAAgB,GAAG,UAAU,OAAO,EAAE;;AAE1C,SAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;;AAE1C,MAAI,UAAU,GAAG,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AAC3C,MAAI,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC;AACzB,MAAI,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC;AAC3B,MAAI,OAAO,GAAG,UAAU,CAAC,OAAO,CAAC;AACjC,MAAI,IAAI,GAAG;AACV,SAAM,EAAE,OAAO,CAAC,IAAI;AACpB,WAAQ,EAAE;AACT,OAAG,EAAE,MAAM,CAAC,SAAS,CAAC,iBAAiB,CAAC;IACxC;GACD,CAAC;AACF,MAAI,CAAC,WAAW,GAAG;AAClB,MAAG,EAAE,GAAG;AACR,OAAI,EAAE,IAAI;AACV,OAAI,EAAE,IAAI;AACV,WAAQ,EAAE,MAAM;AAChB,UAAO,EAAE,SAAS,OAAO,CAAC,QAAQ,EAAE,EAAE;AACtC,QAAK,EAAE,uBAAuB;AAC9B,cAAW,EAAE,kBAAkB;AAC/B,QAAK,EAAE,KAAK;AACZ,UAAO,EAAE,OAAO;GAChB,CAAC;EACF,CAAC;;AAEF,KAAI,CAAC,IAAI,GAAG,YAAY;;AAEvB,GAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;EACzB,CAAC;;AAEF,KAAI,CAAC,iBAAiB,GAAG,UAAU,MAAM,EAAE;;AAE1C,MAAI,CAAC,qBAAqB,GAAG,MAAM,CAAC;EACpC,CAAC;;AAEF,KAAI,CAAC,eAAe,GAAG,UAAU,MAAM,EAAE;;AAExC,MAAI,CAAC,qBAAqB,GAAG,MAAM,CAAC;EACpC,CAAC;;AAEF,KAAI,qBAAqB,GAAG,SAAS,qBAAqB,CAAC,QAAQ,EAAE;;AAEpE,UAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AAChC,MAAI,IAAI,CAAC,qBAAqB,IAAI,IAAI,EAAE;AACvC,OAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC;GACrC;EACD,CAAC;;AAEF,KAAI,qBAAqB,GAAG,SAAS,qBAAqB,GAAG;;AAE5D,MAAI,IAAI,CAAC,qBAAqB,IAAI,IAAI,EAAE;AACvC,OAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC;GACrC;EACD,CAAC;;AAEF,KAAI,QAAQ,GAAG,SAAS,QAAQ,CAAC,GAAG,EAAE;AACrC,MAAI,UAAU,GAAG,gCAAgC,CAAC;AAClD,MAAI,IAAI,GAAG;AACV,MAAG,EAAE,UAAU,GAAG,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACvC,OAAI,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACrB,UAAO,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;GACxB,CAAC;AACF,SAAO,IAAI,CAAC;EACZ,CAAC;CACF","file":"common/ServerCommunication.js","sourcesContent":["function ServerConnection() {\r\n\tthis.ajaxPayload = null;\r\n\tthis.successHandlesrMethod = null;\r\n\tthis.failureHandlesrMethod = null;\r\n\r\n\tthis.buildAjaxPayload = function (options) {\r\n\t\t//builds the requried paylod to make ajax call\r\n\t\tconsole.log('inside send Request Method');\r\n\t\t//get this url from the api calllist based on command/key\r\n\t\tvar urlDetails = buildUrl(options.command);\r\n\t\tvar url = urlDetails.url;\r\n\t\tvar type = urlDetails.type;\r\n\t\tvar timeout = urlDetails.timeout;\r\n\t\tvar data = {\r\n\t\t\t'data': options.data,\r\n\t\t\t'client': {\r\n\t\t\t\tsid: Cookie.getCookie('DivamiKenseoSID')\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.ajaxPayload = {\r\n\t\t\turl: url,\r\n\t\t\ttype: type,\r\n\t\t\tdata: data,\r\n\t\t\tdataType: 'json',\r\n\t\t\tsuccess: function success(response) {},\r\n\t\t\terror: 'defaultFailureHandler',\r\n\t\t\tcontentType: 'application/json',\r\n\t\t\tcache: false,\r\n\t\t\ttimeout: timeout\r\n\t\t};\r\n\t};\r\n\r\n\tthis.send = function () {\r\n\t\t//AJAX call is made here\r\n\t\t$.ajax(this.ajaxPayload);\r\n\t};\r\n\r\n\tthis.setSuccessHandler = function (method) {\r\n\t\t//USER DEFINED SUCCESS CALLBACK\r\n\t\tthis.successHandlesrMethod = method;\r\n\t};\r\n\r\n\tthis.setErrorHandler = function (method) {\r\n\t\t//USER DEFINED FAILURE CALLBACK\r\n\t\tthis.failureHandlesrMethod = method;\r\n\t};\r\n\r\n\tvar defaultSuccessHandler = function defaultSuccessHandler(response) {\r\n\t\t//handles when we get response from server\r\n\t\tresponse = JSON.parse(response);\r\n\t\tif (this.successHandlesrMethod != null) {\r\n\t\t\tthis.successHandlesrMethod(response);\r\n\t\t}\r\n\t};\r\n\r\n\tvar defaultFailureHandler = function defaultFailureHandler() {\r\n\t\t//handles when the call failed to reach the server like error 500\r\n\t\tif (this.failureHandlesrMethod != null) {\r\n\t\t\tthis.failureHandlesrMethod(response);\r\n\t\t}\r\n\t};\r\n\r\n\tvar buildUrl = function buildUrl(key) {\r\n\t\tvar serverPath = 'http://localhost/kenseo/server';\r\n\t\tvar call = {\r\n\t\t\turl: serverPath + '/' + APIList[key][0],\r\n\t\t\ttype: APIList[key][1],\r\n\t\t\ttimeout: APIList[key][1]\r\n\t\t};\r\n\t\treturn call;\r\n\t};\r\n}"],"sourceRoot":"/source/"}