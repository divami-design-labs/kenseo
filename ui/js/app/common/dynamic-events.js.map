{"version":3,"sources":["common/dynamic-events.js"],"names":[],"mappings":"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","file":"common/dynamic-events.js","sourcesContent":["$(function () {\r\n\tvar popupContainer = '.popup-container',\r\n\t    closePopupIcon = '.popup-close-icon';\r\n\r\n\tfunction popupCloser($el) {\r\n\t\t$el.hide();\r\n\t\t$el.children().remove();\r\n\t\tsb.popup.resetPopupData();\r\n\t}\r\n\r\n\t// Events\r\n\r\n\t$(document)\r\n\t// .on('click', function (e) {\r\n\t// \tvar $el = $(e.target);\r\n\t// \tvar bln = $el.hasClass('.toggle-click') || $el.parents('.toggle-click').length;\r\n\t\t// var bln = \t$el.hasClass('popup-click')\r\n\t\t// \t\t\t|| $el.hasClass('page-click')\r\n\t\t// \t\t\t|| $el.hasClass('toggle-click')\r\n\t\t// \t\t\t|| $el.parents('.popup-click').length\r\n\t\t// \t\t\t|| $el.parents('page-click').length\r\n\t\t// \t\t\t|| $el.parents('.toggle-click').length;\r\n\t\t// if (!bln) {\r\n\t\t// \t$('.toggle-click').removeClass('active');\r\n\t\t// }\r\n\t// })\r\n\t.on('click', '.prevent-default', function(e){\r\n\t\te.preventDefault();\r\n\t})\r\n\t.on('click', '.stop-propagate', function(e){\r\n\t\te.stopPropagation();\r\n\t})\r\n\t.on('click', closePopupIcon, function () {\r\n\t\tpopupCloser($(this).parents(popupContainer));\r\n\t}).on('keyup', function (e) {\r\n\t\tvar keycode = e.which || e.keyCode;\r\n\t\tif (keycode == 27) {\r\n\t\t\tpopupCloser($(popupContainer));\r\n\t\t}\r\n\t}).on('click', popupContainer, function (e) {\r\n\t\tif ($(e.target) === $(popupContainer)) {\r\n\t\t\t$(popupContainer)[0].removeChild($(popupContainer).children()[0]);\r\n\t\t}\r\n\t}).on('click', popupContainer + ' .cancel-btn', function (e) {\r\n\t\te.preventDefault();\r\n\t\tpopupCloser($(this).parents(popupContainer));\r\n\t}).on('click', '.nav-btn', function (e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tsb.registerData();\r\n\t\tvar $dataUrl = $(this).data('index');\r\n\t\tif ($dataUrl >= 0) {\r\n\t\t\tsb.callPopup($dataUrl);\r\n\t\t}\r\n\t})\r\n\t// .on('click', '.toggle-click', function (e) {\r\n\t// \t// e.stopPropagation();\r\n\t// \te.preventDefault();\r\n\t// \tif ($(e.target).hasClass('active') || $(e.target).parents('.active').length) {\r\n\t// \t\tif ($(e.target).hasClass('anti-toggle-click') || $(e.target).parents('.anti-toggle-click').length) {\r\n\t// \t\t\treturn false;\r\n\t// \t\t}\r\n\t// \t}\r\n\t// \tvar $this = $(this);\r\n\t// \t$('.active').not($this).removeClass('active');\r\n\t// \t$this.toggleClass('active');\r\n\t// })\r\n\t.on('click', '.popup-click', function () {\r\n\t\tvar $self = $(this);\r\n\t\tvar $dataHolder = $self.parents('.data-holder');\r\n\t\tif($dataHolder.length){\r\n\t\t\tsb.insertPopupData($dataHolder);\r\n\t\t}\r\n\t\telse if($self.hasClass('data-holder')){\r\n\t\t\tsb.insertPopupData($self);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tsb.log(\"Didn't provide data-holder class to the element or its parent\");\r\n\t\t}\r\n\r\n\t\t// var key = $(this).data('key');\r\n\t\t// var id = $(this).data('id');\r\n\t\t// if(key && id){\r\n\t\t// \tKenseo.popup.data = Kenseo.data[key][id];\r\n\t\t// }\r\n\r\n\r\n\t\tsb.navigate('popup', this);\r\n\t}).on('click', '.overlay-click', function () {\r\n\t\tsb.navigate('overlay', this);\r\n\t}).on('click', '.page-click', function (e) {\r\n\t\t// To avoid default behaviour of the anchor element\r\n\t\te.preventDefault();\r\n\t\t// Don't call other functions attached to the same event.\r\n\t\te.stopPropagation();\r\n\t\t// Default application operations\r\n\t\tsb.navigate('page', this);\r\n\r\n\t\t// if the link is in a sub menu section, hide that section\r\n\t\t// $(this).parents('.toggle-click').removeClass('active');\r\n\r\n\t\t// if the link is in a popup, close that popup\r\n\t\tpopupCloser($(popupContainer));\r\n\r\n\t\t// if the link is an anchor element, redirect it.\r\n\t\t// Refer: http://stackoverflow.com/a/31177540/1577396\r\n\t\tif(this.tagName.toLowerCase() === \"a\"){\r\n\t\t\twindow.location.href = DOMAIN_UI_URL + $(this).attr('href');\r\n\t\t}\r\n\t}).on('click', '.share-btn', function () {\r\n\t\tvar container = document.querySelectorAll('.share-artefact-people-item');\r\n\t\tvar sharedDetails = [];\r\n\t\tfor (var i = 0; i < container.length; i++) {\r\n\t\t\tvar $elem = $(container[i]);\r\n\t\t\tvar userId = $elem.attr('data-id');\r\n\t\t\tvar permissions = $elem.find('.user-permission');\r\n\t\t\tfor (var j = 0; j < permissions.length; j++) {\r\n\t\t\t\tvar $permission = $(permissions[j]);\r\n\t\t\t\tif ($permission[0].checked == true) {\r\n\t\t\t\t\tvar permissionType = $($permission[0]).attr('data-elem') == 'comment' ? 'c' : 's';\r\n\t\t\t\t\tsharedDetails.push({\r\n\t\t\t\t\t\t'userId': userId,\r\n\t\t\t\t\t\t'permission': permissionType\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// sb.setPopupData(JSON.stringify(sharedDetails), 'sharedTo')\r\n\t\tconsole.log('parsing is completed');\r\n\t}).on('click', '.done-btn', function () {\r\n\t\tsb.registerData();\r\n\t\tvar $self = $(this);\r\n\t\tvar actionType = sb.getPopupData('actionType');\r\n\t\tvar data = null;\r\n\t\tvar file = sb.getPopupData('file');\r\n\t\tvar plainData = false,\r\n\t\t    contentType = null,\r\n\t\t    processData = null;\r\n\t    var type = '';\r\n\t    var url = '';\r\n\t    // Validate the information\r\n\t    if(!validation.doValidate($(this))){\r\n\t    \t// stop further processing\r\n\t    \treturn false;\r\n\t    }\r\n\t    // Submit the information\r\n\t\tif (file) {\r\n\t\t\tvar data = new FormData();\r\n\r\n\t\t\tfor (var x in Kenseo.popup.data) {\r\n\t\t\t\tvar dump = sb.getPopupData(x);\r\n\t\t\t\tif (typeof dump === 'object' && x !== 'file') {\r\n\t\t\t\t\tdump = JSON.stringify(dump);\r\n\t\t\t\t}\r\n\t\t\t\tdata.append(x, dump);\r\n\t\t\t}\r\n\r\n\t\t\tdata.append('type', 'I');\r\n\t\t\tdata.append('sid', Kenseo.cookie.sessionid());\r\n\t\t\ttype = 'POST';\r\n\t\t\turl = sb.getRelativePath('extUpload.php');\r\n\t\t\tplainData = true;\r\n\t\t\tcontentType = false;\r\n\t\t\tprocessData = false;\r\n\t\t} else {\r\n\t\t\tdata = sb.getPopupData();\r\n\t\t\t// data = _.extend(sb.getPopupData(), sb.postcall.getPostObj($self));\r\n\t\t\tsb.postcall.getPostObj($self); // temporary fix\r\n\t\t\turl = sb.getRelativePath(actionType);\r\n\t\t\ttype = 'GET';\r\n\t\t}\r\n\r\n\t\tsb.ajaxCall({\r\n\t\t\turl: url,\r\n\t\t\tdata: data,\r\n\t\t\ttype: type,\r\n\t\t\tplainData: plainData,\r\n\t\t\tcontentType: contentType,\r\n\t\t\tprocessData: processData,\r\n\t\t\tsuccess: function success() {\r\n\t\t\t\tpopupCloser($self.parents(popupContainer));\r\n\t\t\t\tsb.refresh.type(actionType);\r\n\t\t\t}\r\n\t\t});\r\n\t}).on('click', '.sort-item', function (e) {\r\n\t\tvar $self = $(e.currentTarget),\r\n\t\t    id = sb.getPageData('project').id;\r\n\t\tnew Kenseo.views.Artefacts({\r\n\t\t\tel: '.artifacts-content',\r\n\t\t\tid: id,\r\n\t\t\tcolStr: 'Artefacts',\r\n\t\t\tdata: { projects: true, project_id: id, sharePermission: false, sortBy: $self.data('stype') },\r\n\t\t\tstopRenderX: true,\r\n\t\t\tpreLoader: function preLoader(response) {\r\n\t\t\t\t$('.artifacts-section').html(_.template(templates['artefacts'])(response));\r\n\t\t\t}\r\n\t\t});\r\n\t}).on('click', '.people-remove-icon', function (e) {\r\n\t\tvar $self = $(e.currentTarget);\r\n\t\tvar userId = $self.attr('data-id');\r\n\t\tvar projectId = Kenseo.page.data.project.id;\r\n\r\n\t\tsb.renderTemplate({\r\n\t\t\turl: sb.getRelativePath('removePeople'),\r\n\t\t\tdata: {\r\n\t\t\t\tprojectId: projectId,\r\n\t\t\t\tpeopleId: userId\r\n\t\t\t},\r\n\t\t\ttype: 'GET',\r\n\t\t\tcontentType: false,\r\n\t\t\tprocessData: false,\r\n\t\t\t'callbackfunc': function callbackfunc() {\r\n\t\t\t\tpopupCloser($self.parents(popupContainer));\r\n\t\t\t}\r\n\t\t});\r\n\t}).on('click', '.dvt-item.comment-summary-icon', function(e){\r\n\t\t$('.comments-view-holder').toggleClass('active');\r\n\t})\r\n\t.on('change', '.filter-checkboxes input[data-all=\"true\"]', function(e){\r\n\t\tvar $self = $(this);\r\n\t\t$self.parents('.filter-checkboxes-content').find('input[type=\"checkbox\"]').not($self).prop('checked', $self.prop('checked'));\r\n\t})\r\n\t.on('change', '.filter-checkboxes input[type=\"checkbox\"]:not([data-all=\"true\"])', function(e){\r\n\t\tvar $self = $(this);\r\n\t\tvar $allchkBox = $self.parents('.filter-checkboxes-content').find('input[type=\"checkbox\"][data-all=\"true\"]');\r\n\t\tif(!$self.prop('checked')){\r\n\t\t\t$allchkBox.prop('checked', false);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tvar $uncheckedBoxes = $self.parents('.filter-checkboxes-content').find('input[type=\"checkbox\"]:not([data-all=\"true\"])').filter(function(){\r\n\t\t\t\treturn !$(this).prop('checked');\r\n\t\t\t});\r\n\t\t\tif(!$uncheckedBoxes.length){\r\n\t\t\t\t$allchkBox.prop('checked', true);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n});\r\n\r\n\r\nvar stickToBottom = function (parent) {\r\n    var bar = parent.querySelector('.bar');\r\n    var top = bar.offsetTop;\r\n    parent.addEventListener('scroll', function (e) {\r\n        var el = e.currentTarget;\r\n        bar.style.bottom = -el.scrollTop + \"px\";\r\n        bar.style.left = el.scrollLeft + \"px\";\r\n    });\r\n}"],"sourceRoot":"/source/"}