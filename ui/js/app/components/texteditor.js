var textEditor = function (textDivSection) {
	var buttons = {
		boldBtn: textDivSection.querySelector('[name="text-b"]'),
		italicBtn: textDivSection.querySelector('[name="text-i"]'),
		underlineBtn: textDivSection.querySelector('[name="text-u"]')
	},
	    textDiv = textDivSection.querySelector('.text-editor');

	function doWithButtons(property, value) {
		for (var btn in buttons) {
			buttons[btn][property] = value;
		}
	}

	function selectButtons(e) {
		var sel = window.getSelection();
		if (sel.baseNode && (sel.baseNode === textDiv || sel.baseNode.ownerDocument.activeElement === textDiv)) {
			doWithButtons("className", "");
			var p = sel.baseNode.parentElement;
			while (!/(div|body|button)/i.test(p.tagName.toLowerCase())) {
				var btn = document.getElementsByName("text-" + p.tagName.toLowerCase())[0];
				btn.className = "active";
				p = p.parentElement;
			}
		} else {
			doWithButtons("className", "");
		}
	}

	function action(e) {
		var el = e.currentTarget;
		document.execCommand(el.getAttribute('text-name'));
		el.className = el.className === "active" ? "" : "active";
		textDiv.focus();
	}
	// textDiv.onfocus = selectButtons;
	textDiv.onblur = selectButtons;
	textDiv.onkeyup = selectButtons;
	textDiv.onclick = selectButtons;

	doWithButtons("onclick", action);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2JhYmVsLWFwcC9jb21wb25lbnRzL3RleHRlZGl0b3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBSSxVQUFVLEdBQUcsVUFBUyxjQUFjLEVBQUU7QUFDekMsS0FBSSxPQUFPLEdBQUc7QUFDYixTQUFPLEVBQUUsY0FBYyxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQztBQUN4RCxXQUFTLEVBQUUsY0FBYyxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQztBQUMxRCxjQUFZLEVBQUUsY0FBYyxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQztFQUM3RDtLQUNELE9BQU8sR0FBRyxjQUFjLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxDQUFDOztBQUV2RCxVQUFTLGFBQWEsQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFO0FBQ3BDLE9BQUksSUFBSSxHQUFHLElBQUksT0FBTyxFQUFDO0FBQ3RCLFVBQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxLQUFLLENBQUM7R0FDL0I7RUFDSjs7QUFFRCxVQUFTLGFBQWEsQ0FBQyxDQUFDLEVBQUU7QUFDdEIsTUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLFlBQVksRUFBRSxDQUFDO0FBQ2hDLE1BQUksR0FBRyxDQUFDLFFBQVEsS0FBSyxHQUFHLENBQUMsUUFBUSxLQUFLLE9BQU8sSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxhQUFhLEtBQUssT0FBTyxDQUFBLEFBQUMsRUFBRTtBQUNwRyxnQkFBYSxDQUFDLFdBQVcsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUMvQixPQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBQztBQUNuQyxVQUFPLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRTtBQUN4RCxRQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsaUJBQWlCLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMzRSxPQUFHLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztBQUN6QixLQUFDLEdBQUcsQ0FBQyxDQUFDLGFBQWEsQ0FBQztJQUN2QjtHQUNKLE1BQU07QUFDSCxnQkFBYSxDQUFDLFdBQVcsRUFBRSxFQUFFLENBQUMsQ0FBQztHQUNsQztFQUNKOztBQUVELFVBQVMsTUFBTSxDQUFDLENBQUMsRUFBRTtBQUNmLE1BQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxhQUFhLENBQUM7QUFDekIsVUFBUSxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7QUFDbkQsSUFBRSxDQUFDLFNBQVMsR0FBRyxBQUFDLEVBQUUsQ0FBQyxTQUFTLEtBQUssUUFBUSxHQUFHLEVBQUUsR0FBQyxRQUFRLENBQUM7QUFDeEQsU0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO0VBQ25COztBQUFBLEFBRUQsUUFBTyxDQUFDLE1BQU0sR0FBSSxhQUFhLENBQUM7QUFDaEMsUUFBTyxDQUFDLE9BQU8sR0FBRyxhQUFhLENBQUM7QUFDaEMsUUFBTyxDQUFDLE9BQU8sR0FBRyxhQUFhLENBQUM7O0FBRWhDLGNBQWEsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7Q0FDakMsQ0FBQSIsImZpbGUiOiJ0ZXh0ZWRpdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHRleHRFZGl0b3IgPSBmdW5jdGlvbih0ZXh0RGl2U2VjdGlvbikge1xyXG5cdHZhciBidXR0b25zID0ge1xyXG5cdFx0Ym9sZEJ0bjogdGV4dERpdlNlY3Rpb24ucXVlcnlTZWxlY3RvcignW25hbWU9XCJ0ZXh0LWJcIl0nKSxcclxuXHRcdGl0YWxpY0J0bjogdGV4dERpdlNlY3Rpb24ucXVlcnlTZWxlY3RvcignW25hbWU9XCJ0ZXh0LWlcIl0nKSxcclxuXHRcdHVuZGVybGluZUJ0bjogdGV4dERpdlNlY3Rpb24ucXVlcnlTZWxlY3RvcignW25hbWU9XCJ0ZXh0LXVcIl0nKVxyXG5cdH0sXHJcblx0dGV4dERpdiA9IHRleHREaXZTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoJy50ZXh0LWVkaXRvcicpO1xyXG5cdFxyXG5cdGZ1bmN0aW9uIGRvV2l0aEJ1dHRvbnMocHJvcGVydHksIHZhbHVlKSB7XHJcblx0ICAgIGZvcih2YXIgYnRuIGluIGJ1dHRvbnMpe1xyXG5cdCAgICBcdGJ1dHRvbnNbYnRuXVtwcm9wZXJ0eV0gPSB2YWx1ZTtcclxuXHQgICAgfVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gc2VsZWN0QnV0dG9ucyhlKSB7XHJcblx0ICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcblx0ICAgIGlmIChzZWwuYmFzZU5vZGUgJiYgKHNlbC5iYXNlTm9kZSA9PT0gdGV4dERpdiB8fCBzZWwuYmFzZU5vZGUub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0ZXh0RGl2KSkge1xyXG5cdCAgICAgICAgZG9XaXRoQnV0dG9ucyhcImNsYXNzTmFtZVwiLCBcIlwiKTtcclxuXHQgICAgICAgIHZhciBwID0gc2VsLmJhc2VOb2RlLnBhcmVudEVsZW1lbnQ7XHJcblx0ICAgICAgICB3aGlsZSAoIS8oZGl2fGJvZHl8YnV0dG9uKS9pLnRlc3QocC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpKSB7XHJcblx0ICAgICAgICAgICAgdmFyIGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFwidGV4dC1cIiArIHAudGFnTmFtZS50b0xvd2VyQ2FzZSgpKVswXTtcclxuXHQgICAgICAgICAgICBidG4uY2xhc3NOYW1lID0gXCJhY3RpdmVcIjtcclxuXHQgICAgICAgICAgICBwID0gcC5wYXJlbnRFbGVtZW50O1xyXG5cdCAgICAgICAgfVxyXG5cdCAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgZG9XaXRoQnV0dG9ucyhcImNsYXNzTmFtZVwiLCBcIlwiKTtcclxuXHQgICAgfVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gYWN0aW9uKGUpIHtcclxuXHQgICAgdmFyIGVsID0gZS5jdXJyZW50VGFyZ2V0O1xyXG5cdCAgICBkb2N1bWVudC5leGVjQ29tbWFuZChlbC5nZXRBdHRyaWJ1dGUoJ3RleHQtbmFtZScpKTtcclxuXHQgICAgZWwuY2xhc3NOYW1lID0gKGVsLmNsYXNzTmFtZSA9PT0gXCJhY3RpdmVcIik/IFwiXCI6XCJhY3RpdmVcIjtcclxuXHQgICAgdGV4dERpdi5mb2N1cygpO1xyXG5cdH1cclxuXHQvLyB0ZXh0RGl2Lm9uZm9jdXMgPSBzZWxlY3RCdXR0b25zO1xyXG5cdHRleHREaXYub25ibHVyICA9IHNlbGVjdEJ1dHRvbnM7XHJcblx0dGV4dERpdi5vbmtleXVwID0gc2VsZWN0QnV0dG9ucztcclxuXHR0ZXh0RGl2Lm9uY2xpY2sgPSBzZWxlY3RCdXR0b25zO1xyXG5cclxuXHRkb1dpdGhCdXR0b25zKFwib25jbGlja1wiLCBhY3Rpb24pO1xyXG59Il19