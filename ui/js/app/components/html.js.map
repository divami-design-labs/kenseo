{"version":3,"sources":["components/html.js"],"names":[],"mappings":";;;;;;AAIA,IAAI,MAAM,GAAG,CAAC,YAAU;;AAEvB,KAAI,iBAAiB,GAAG,EAAE,CAAC;AAC3B,KAAI,iBAAiB,GAAG,SAApB,iBAAiB,GAAa;AACjC,SAAO,QAAQ,CAAC,sBAAsB,CAAC,YAAY,CAAC,CAAC;EACrD,CAAA;AACD,KAAI,IAAI,GAAG,SAAP,IAAI,GAAa;;;;;AAKpB,GAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,aAAa,EAAE,SAAS,CAAC,CAAC;;;AAGlD,UAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAS,CAAC,EAAC;;;;AAI7C,OAAI,kBAAkB,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,iBAAiB,EAAE,CAAC,CAAC,MAAM,CAAC,UAAS,EAAE,EAAC;AAC9E,SAAI,IAAI,CAAC,GAAG,CAAC,EAAC,CAAC,GAAG,iBAAiB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AAC/C,SAAG,EAAE,KAAK,iBAAiB,CAAC,CAAC,CAAC,EAAC;AAC9B,aAAO,KAAK,CAAC;MACb;KACD;AACD,WAAO,IAAI,CAAC;IACZ,CAAC,CAAA;AACF,QAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,kBAAkB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AACjD,kBAAc,CAAC,kBAAkB,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;IAC5C;;;AAGD,wBAAqB,EAAE,CAAC;GACxB,CAAC,CAAC;EACH,CAAA;;AAED,UAAS,cAAc,CAAC,cAAc,EAAE,UAAU,EAAC;AAClD,MAAI,QAAQ,GAAG,cAAc,CAAC,OAAO,CAAC;AACtC,MAAI,wBAAwB,GAAG,QAAQ,CAAC,YAAY,CAAC,CAAC;;AAEtD,gBAAc,CAAC,YAAY,CAAC,0BAA0B,EAAE,GAAG,CAAC,CAAC;AAC7D,MAAG,wBAAwB,EAAC;;AAE3B,2BAAwB,GAAG,wBAAwB,CAAC,OAAO,CAAC,OAAO,EAAE,iCAAiC,CAAC,CAAC;;;AAGxG,OAAI,cAAc,GAAG,QAAQ,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,CAAC;GACzE,MACG;AACH,OAAI,cAAc,GAAG,CAAC,cAAc,CAAC,CAAC;GACtC;;;AAGD,gBAAc,CAAC,eAAe,CAAC,0BAA0B,CAAC,CAAC;;;AAG3D,MAAI,kBAAkB,GAAG,QAAQ,CAAC,WAAW,CAAC,IAAI,QAAQ,CAAC;AAC3D,MAAI,UAAU,GAAG,QAAQ,CAAC,YAAY,CAAC,IAAI,QAAQ,CAAC;AACpD,MAAI,YAAY,GAAG,QAAQ,CAAC,kBAAkB,CAAC,IAAI,MAAM,CAAC;AAC1D,MAAG,UAAU,EAAC;;AAEb,iBAAc,CAAC,cAAc,CAAC,CAAC;;AAE/B,OAAG,YAAY,KAAK,MAAM,EAAC;AAC1B,QAAI,aAAa,GAAG,AAAC,UAAU,KAAK,QAAQ,IAAI,UAAU,KAAK,KAAK,GAAE,QAAQ,GAAC,KAAK,CAAC;AACrF,eAAW,CAAC,cAAc,EAAE,aAAa,EAAE,kBAAkB,EAAE,IAAI,CAAC,CAAC;IACrE,MACG;;IAEH;GACD,MACG;;AAEH,MAAE,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;AAC9C,gBAAY,CAAC,cAAc,CAAC,CAAC;;AAE7B,eAAW,CAAC,cAAc,EAAE,UAAU,EAAE,kBAAkB,CAAC,CAAC;;;AAG5D,qBAAiB,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAClD,qBAAiB,CAAC,IAAI,CAAC,KAAK,CAAC,iBAAiB,EAAE,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;IACjF;EACD;;AAED,UAAS,YAAY,CAAC,EAAE,EAAC;AACxB,IAAE,CAAC,YAAY,CAAC,wBAAwB,EAAE,EAAE,CAAC,CAAC;AAC9C,IAAE,CAAC,gBAAgB,CAAC,OAAO,EAAE,sBAAsB,CAAC,CAAC;EACrD;;AAED,UAAS,cAAc,CAAC,EAAE,EAAC;AAC1B,IAAE,CAAC,eAAe,CAAC,wBAAwB,CAAC,CAAC;AAC7C,IAAE,CAAC,mBAAmB,CAAC,OAAO,EAAE,sBAAsB,CAAC,CAAC;EACxD;;AAED,UAAS,qBAAqB,GAAE;AAC/B,mBAAiB,GAAG,EAAE,CAAC;EACvB;;AAED,UAAS,sBAAsB,GAAE;AAChC,mBAAiB,GAAG,QAAQ,CAAC,gBAAgB,CAAC,0BAA0B,CAAC,CAAC;EAC1E;;AAED,UAAS,SAAS,CAAC,CAAC,EAAC;;AAEpB,MAAI,yBAAyB,GAAG,QAAQ,CAAC,gBAAgB,CAAC,0BAA0B,CAAC,CAAC;AACtF,IAAE,CAAC,OAAO,CAAC,IAAI,CAAC,yBAAyB,EAAE,cAAc,CAAC,CAAC;;AAE3D,MAAI,cAAc,GAAG,CAAC,CAAC,aAAa,CAAC;AACrC,gBAAc,CAAC,cAAc,CAAC,CAAC;EAC/B;;AAED,UAAS,WAAW,CAAC,cAAc,EAAE,UAAU,EAAE,kBAAkB,EAAE,gBAAgB,EAAC;AACrF,OAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AAC7C,OAAI,aAAa,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;AACtC,OAAG,gBAAgB,EAAC;AACnB,kBAAc,CAAC,aAAa,CAAC,CAAC;IAC9B;AACD,OAAG,kBAAkB,EAAC;AACrB,iBAAa,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,kBAAkB,CAAC,CAAC;IACxD,MACG;;IAEH;GACD;EACD;AACD,QAAO;AACN,MAAI,EAAE,IAAI;AACV,OAAK,EAAE,SAAS;EAChB,CAAA;CACD,CAAA,EAAG,CAAC;;AAEL,MAAM,CAAC,IAAI,EAAE,CAAC","file":"components/html.js","sourcesContent":["/* Here all the common interactions will be defined, which are useful while developing HTMLs */\r\n\r\n/* Requirement - explanation */\r\n// Please check this link for explanation: https://github.com/kamlekar/HTML-Skinning-Boilerplate/issues/12\r\nvar htmljs = (function(){ \r\n\t// Global Variable\r\n\tvar ignorableElements = [];\r\n\tvar htmlClickElements = function(){\r\n\t\treturn document.getElementsByClassName('html-click');\r\n\t}\r\n\tvar init = function(){\r\n\t\t// Registering clicks on clickable \r\n\t\t// [].forEach.call(htmlClickElements(), function(el){\r\n\t\t// \tel.addEventListener('click', htmlClick, true);\r\n\t\t// });\r\n\t\t$(document).on('click', '.html-click', htmlClick);\r\n\r\n\t\t// Defining outside click actions\r\n\t\tdocument.addEventListener('click', function(e){\r\n\t\t\t// First check whether the user clicked on the clickable element(s) or target element(s).\r\n\t\t\t// If user hasn't clicked on the clickable element or target element then reset the performed actions on the clickable element(s) and target element(s) with outside clicking is as active.\r\n\t\t\t// (For this, we need to add another common attribute to clicked element and target element)\r\n\t\t\tvar resettableElements = [].slice.call(htmlClickElements()).filter(function(el){\r\n\t\t\t\tfor(var j = 0;j < ignorableElements.length; j++){\r\n\t\t\t\t\tif(el === ignorableElements[j]){\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t})\r\n\t\t\tfor(var i = 0; i < resettableElements.length; i++){\r\n\t\t\t\tperformActions(resettableElements[i], true);\r\n\t\t\t}\r\n\r\n\t\t\t// reset\r\n\t\t\tresetIgnoringElements();\r\n\t\t});\r\n\t}\r\n\r\n\tfunction performActions(clickedElement, doOpposite){\r\n\t\tvar metaInfo = clickedElement.dataset;\r\n\t\tvar referenceOfTargetElement = metaInfo['htmlTarget'];\r\n\t\t// Adding unique value as custom attribute\r\n\t\tclickedElement.setAttribute('data-html-dummy-selector', '1');\r\n\t\tif(referenceOfTargetElement){\r\n\t\t\t// Replace \"this \" string with custom attribute with value\r\n\t\t\treferenceOfTargetElement = referenceOfTargetElement.replace(\"this \", '[data-html-dummy-selector=\"1\"] ');\r\n\t\t\t// Go to target element(s) from the provided info in clicked element.\r\n\t\t\t// if target element(s) is not mentioned, assume the target element is the clicked element itself.\r\n\t\t\tvar targetElements = document.querySelectorAll(referenceOfTargetElement);\r\n\t\t}\r\n\t\telse{\r\n\t\t\tvar targetElements = [clickedElement];\r\n\t\t} \r\n\t\t// After getting the relative element, the added custom attribute is useless\r\n\t\t// So, remove it\r\n\t\tclickedElement.removeAttribute('data-html-dummy-selector');\r\n\t\t// Perform the toggle/add/remove of the class on the target element(s) as mentioned in the clicked element info.\r\n\r\n\t\tvar targetElementClass = metaInfo['htmlClass'] || 'active';\r\n\t\tvar toggleType = metaInfo['htmlToggle'] || 'toggle';\r\n\t\tvar outsideClick = metaInfo['htmlOutsideClick'] || 'true';\r\n\t\tif(doOpposite){\r\n\t\t\t//\r\n\t\t\tunmarkAsActive(clickedElement);\r\n\t\t\t//\r\n\t\t\tif(outsideClick === 'true'){\r\n\t\t\t\tvar newToggleType = (toggleType === 'toggle' || toggleType === 'add')?'remove':'add';\r\n\t\t\t\thtmlActions(targetElements, newToggleType, targetElementClass, true);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t// do nothing\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\t//\r\n\t\t\t[].forEach.call(targetElements, markAsActive);\r\n\t\t\tmarkAsActive(clickedElement);\r\n\r\n\t\t\thtmlActions(targetElements, toggleType, targetElementClass);\r\n\r\n\t\t\t// add elements to ignore when document is clicked\r\n\t\t\tignorableElements = [].slice.call(targetElements);\r\n\t\t\tignorableElements.push.apply(ignorableElements, [].slice.call([clickedElement]));\r\n\t\t}\r\n\t}\r\n\r\n\tfunction markAsActive(el){\r\n\t\tel.setAttribute('data-html-click-active', '');\r\n\t\tel.addEventListener('click', gatherIgnoringElements);\r\n\t}\r\n\r\n\tfunction unmarkAsActive(el){\r\n\t\tel.removeAttribute('data-html-click-active');\r\n\t\tel.removeEventListener('click', gatherIgnoringElements);\r\n\t}\r\n\r\n\tfunction resetIgnoringElements(){\r\n\t\tignorableElements = [];\r\n\t}\r\n\r\n\tfunction gatherIgnoringElements(){\r\n\t\tignorableElements = document.querySelectorAll('[data-html-click-active]');\r\n\t}\r\n\r\n\tfunction htmlClick(e){\r\n\t\t// resetting previously active elements\r\n\t\tvar previousIgnorableElements = document.querySelectorAll('[data-html-click-active]');\r\n\t\t[].forEach.call(previousIgnorableElements, unmarkAsActive);\r\n\r\n\t\tvar clickedElement = e.currentTarget;\r\n\t\tperformActions(clickedElement);\r\n\t}\r\n\r\n\tfunction htmlActions(targetElements, toggleType, targetElementClass, removeActiveHtml){\r\n\t\tfor(var i = 0; i < targetElements.length; i++){\r\n\t\t\tvar targetElement = targetElements[i];\r\n\t\t\tif(removeActiveHtml){\r\n\t\t\t\tunmarkAsActive(targetElement);\r\n\t\t\t}\r\n\t\t\tif(targetElementClass){\r\n\t\t\t\ttargetElement.classList[toggleType](targetElementClass);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\t// Throw error saying - Please provide class name to add to the target element.\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn {\r\n\t\tinit: init,\r\n\t\tclick: htmlClick\r\n\t}\r\n})();\r\n\r\nhtmljs.init();"],"sourceRoot":"/source/"}