{"version":3,"sources":["config/sandbox.refresh.js"],"names":[],"mappings":"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","file":"config/sandbox.refresh.js","sourcesContent":["sb.refresh = (function(){\r\n\tvar sections = {\r\n\t\t'menu': {\r\n\t\t\t'menu-section': function(){ \r\n\t\t\t\treturn sb.renderTemplate({ 'templateName': 'nav-menu', 'templateHolder': $('.menu') })\r\n\t\t\t},\r\n\t\t\t'menu-header': function(){\r\n\t\t\t\treturn sb.renderTemplate({ 'templateName': 'menu-header', 'templateHolder': $('.menu-header'), 'model': new Kenseo.models.Header() })\r\n\t\t\t},\r\n            'menu-projects-container': function(){\r\n            \treturn sb.renderTemplate({ 'templateName': 'menu-projects-container', 'templateHolder': $('.menu-projects-section'), 'collection': new Kenseo.collections.Projects(), 'data': 'menu-projects' });\r\n            },\r\n            'menu-recent-activity': function(){\r\n            \treturn sb.renderTemplate({ 'templateName': 'menu-recent-activity', 'templateHolder': $('.menu-recent-activity-section'), 'collection': new Kenseo.collections.Artefacts(), 'data': 'menu-activities' });\r\n            },\r\n            'menu-request-section': function(){\r\n            \treturn new Kenseo.views.Artefacts({ el: '.menu-recent-requests-section', colStr: 'Artefacts', data: 'menu-artefacts' });\r\n            },\r\n            // sb.renderTemplate({\"templateName\": 'artefact', \"templateHolder\": $('.menu-recent-requests-section'), \"collection\": new Kenseo.collections.Artefacts(), \"data\": 'menu-artefacts'});\r\n            'menu-recent-notifications': function(){\r\n            \treturn sb.renderTemplate({ 'templateName': 'menu-recent-notifications', 'templateHolder': $('.menu-recent-notifications-section'), 'collection': new Kenseo.collections.Notifications(), 'data': 'menu-notifications' });\r\n            },\r\n            'menu-recent-people': function(){\r\n            \treturn sb.renderTemplate({ 'templateName': 'menu-recent-people', 'templateHolder': $('.menu-recent-people-section'), 'collection': new Kenseo.collections.People(), 'data': 'menu-people' });\r\n            }\r\n\t\t},\r\n\t\t'dashboard': {\r\n\t\t\t'dashboard-section': function(){\r\n\t\t\t\treturn sb.renderTemplate({ templateName: 'dashboard', 'templateHolder': $('.dashboard-section') });\r\n\t\t\t},\r\n            'db-projects': function(){\r\n            \t// return new Kenseo.views.Projects({ colStr: 'Projects', data: 'db-projects' });\r\n            \treturn sb.renderTemplate({ templateName: 'db-projects-section', 'templateHolder': $('.projects-section-content'), collection: new Kenseo.collections.Projects(), data: 'db-projects'})\r\n            },\r\n            'db-notifications': function(){\r\n            \treturn new Kenseo.views.Notifications({ collection: new Kenseo.collections.Notifications(), data: 'db-notifications' });\r\n            \t// return sb.renderTemplate({ templateName: 'db-notifications', templateHolder: $('.') collection: new Kenseo.collections.Notifications(), data: 'db-notifications'})\r\n            },\r\n            'db-artefacts': function(){\r\n            \t$('.review-requests-content').html(\"\");\r\n            \t// return new Kenseo.views.Artefacts({ colStr: 'Artefacts', data: 'db-artefacts' });\r\n            \treturn sb.renderTemplate({ templateName: 'artefacts', templateHolder: $('.dashboard-section .review-requests-section'), collection: new Kenseo.collections.Artefacts(), data: 'db-artefacts'})\r\n            }\r\n\t\t},\r\n\t\t'header': {\r\n\t\t\t'header': function(){\r\n\t\t\t\treturn new Kenseo.views.Header({ 'model': new Kenseo.models.Header() });\r\n\t\t\t}\r\n\t\t},\r\n\t\t'project-page': {\r\n\t\t\t'project-page-section': function(){\r\n\t\t\t\treturn sb.renderTemplate({ 'templateName': 'project-page', 'templateHolder': $('.project-section') });\r\n\t\t\t},\r\n            'pp-artefacts': function() {\r\n            \treturn new Kenseo.views.Artefacts({\r\n\t                el: '.artifacts-content',\r\n\t                id: Kenseo.page.id,\r\n\t                colStr: 'Artefacts',\r\n\t                data: { projects: true, project_id: Kenseo.page.id, sharePermission: false, sortBy: 'default' },\r\n\t                preLoader: function preLoader(response) {\r\n\t                    $('.artifacts-section').html(_.template(templates['artefacts'])(response));\r\n\t                }\r\n\t            });\r\n            },\r\n            'pp-activities': function(){\r\n            \treturn new Kenseo.views.Activities({ collection: new Kenseo.collections.Artefacts(), data: { projectActivities: true, project_id: Kenseo.page.id } });\r\n            },\r\n            'pp-people': function(){\r\n            \treturn new Kenseo.views.People({\r\n\t                el: '.people-section-content',\r\n\t                colStr: 'People',\r\n\t                data: { projectId: Kenseo.page.id },\r\n\t                preLoader: function preLoader(response) {\r\n\t                    $('.people-section').html(_.template(templates['people'])());\r\n\t                }\r\n\t            });\r\n            }\r\n\t\t},\r\n\t\t'meeting-notes': {\r\n\t\t\t'meeting-notes': function(){\r\n\t\t\t\treturn sb.renderTemplate({\r\n\t                url: sb.getRelativePath('getMeetingNotes'),\r\n\t                data: {\r\n\t                    meetingId: Kenseo.data.meetingId\r\n\t                },\r\n\t                templateName: 'meetingnotes',\r\n\t                templateHolder: $('.content-wrapper'),\r\n\t                callbackfunc: function() {\r\n\t                    //since we have the Html ready now we can have the editor in place.\r\n\t                    var textEditorObj = new textEditor(document.querySelector('.text-editor-section'));\r\n\t                    sb.meeting.notes();\r\n\t                }\r\n\t            });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar actionType = {\r\n\t\tarchiveProject : function(){\r\n\t\t\trefreshSection('dashboard', 'db-projects');\r\n\t\t},\r\n\t\tarchiveArtefact: function(){\r\n\t\t\t// Kenseo.currentModel.collection.remove(Kenseo.currentModel);\r\n\t\t\trefreshSection('dashboard', 'db-artefacts');\r\n\t\t},\r\n\t\tdeleteArtefact: function(){\r\n\t\t\t// Kenseo.currentModel.collection.remove(Kenseo.currentModel);\r\n\t\t\trefreshSection('dashboard', 'db-artefacts');\r\n\t\t},\r\n\t\taddProject: function(){\r\n\t\t\trefreshSection('dashboard', 'db-projects');\r\n\t\t},\r\n\t\taddArtefact: function(){\r\n\t\t\trefreshSection('dashboard', 'db-artefacts');\r\n\t\t\trefreshSection('dashboard', 'db-notifications');\r\n\t\t}\r\n\t}\r\n\tfunction refreshSection(sectionName, subSection){\r\n\t\tvar specificSection = sections[sectionName];\r\n\t\tif(!subSection){\r\n\t\t\tfor(var s in specificSection){\r\n\t\t\t\tspecificSection[s]();\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tspecificSection[subSection]();\r\n\t\t}\r\n\t}\r\n\treturn {\r\n\t\tsection: refreshSection,\r\n\t\ttype: function(actionTypeProp){\r\n\t\t\tif(actionType[actionTypeProp]){\r\n\t\t\t\tactionType[actionTypeProp]();\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tsb.log(\"undefined actionType\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n})();"],"sourceRoot":"/source/"}