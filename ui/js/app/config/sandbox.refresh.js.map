{"version":3,"sources":["config/sandbox.refresh.js"],"names":[],"mappings":"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","file":"config/sandbox.refresh.js","sourcesContent":["sb.refresh = (function(){\n\tvar sections = {\n\t\t'menu': {\n\t\t\t'menu-section': function(){ \n\t\t\t\treturn sb.renderTemplate({ 'templateName': 'nav-menu', 'templateHolder': $('.menu') })\n\t\t\t},\n\t\t\t'menu-header': function(){\n\t\t\t\treturn sb.renderTemplate({ 'templateName': 'menu-header', 'templateHolder': $('.menu-header'), 'model': new Kenseo.models.Header() })\n\t\t\t},\n            'menu-projects-container': function(){\n            \treturn sb.renderTemplate({ 'templateName': 'menu-projects-container', 'templateHolder': $('.menu-projects-section'), 'collection': new Kenseo.collections.Projects(), 'data': 'menu-projects' });\n            },\n            'menu-recent-activity': function(){\n            \treturn sb.renderTemplate({ 'templateName': 'menu-recent-activity', 'templateHolder': $('.menu-recent-activity-section'), 'collection': new Kenseo.collections.Artefacts(), 'data': 'menu-activities' });\n            },\n            'menu-request-section': function(){\n            \treturn new Kenseo.views.Artefacts({ el: '.menu-recent-requests-section', colStr: 'Artefacts', data: 'menu-artefacts' });\n            },\n            // sb.renderTemplate({\"templateName\": 'artefact', \"templateHolder\": $('.menu-recent-requests-section'), \"collection\": new Kenseo.collections.Artefacts(), \"data\": 'menu-artefacts'});\n            'menu-recent-notifications': function(){\n            \treturn sb.renderTemplate({ 'templateName': 'menu-recent-notifications', 'templateHolder': $('.menu-recent-notifications-section'), 'collection': new Kenseo.collections.Notifications(), 'data': 'menu-notifications' });\n            },\n            'menu-recent-people': function(){\n            \treturn sb.renderTemplate({ 'templateName': 'menu-recent-people', 'templateHolder': $('.menu-recent-people-section'), 'collection': new Kenseo.collections.People(), 'data': 'menu-people' });\n            }\n\t\t},\n\t\t'dashboard': {\n\t\t\t'dashboard-section': function(){\n\t\t\t\treturn sb.renderTemplate({ templateName: 'dashboard', 'templateHolder': $('.dashboard-section') });\n\t\t\t},\n            'db-projects': function(){\n            \t// return new Kenseo.views.Projects({ colStr: 'Projects', data: 'db-projects' });\n            \treturn sb.renderTemplate({ templateName: 'db-projects-section', 'templateHolder': $('.projects-section-content'), collection: new Kenseo.collections.Projects(), data: 'db-projects'})\n            },\n            'db-notifications': function(){\n            \treturn new Kenseo.views.Notifications({ collection: new Kenseo.collections.Notifications(), data: 'db-notifications' });\n            \t// return sb.renderTemplate({ templateName: 'db-notifications', templateHolder: $('.') collection: new Kenseo.collections.Notifications(), data: 'db-notifications'})\n            },\n            'db-artefacts': function(){\n            \t$('.dashboard-section .review-requests-content').html(\"\");\n            \t// return new Kenseo.views.Artefacts({ colStr: 'Artefacts', data: 'db-artefacts' });\n            \treturn sb.renderTemplate({ templateName: 'artefacts', templateHolder: $('.dashboard-section .review-requests-section'), collection: new Kenseo.collections.Artefacts(), data: 'db-artefacts'})\n            }\n\t\t},\n\t\t'header': {\n\t\t\t'header': function(){\n\t\t\t\treturn new Kenseo.views.Header({ 'model': new Kenseo.models.Header() });\n\t\t\t}\n\t\t},\n\t\t'project-page': {\n\t\t\t'project-page-section': function(){\n\t\t\t\treturn sb.renderTemplate({ 'templateName': 'project-page', 'templateHolder': $('.project-section') });\n\t\t\t},\n            'pp-artefacts': function() {\n            \treturn new Kenseo.views.Artefacts({\n\t                el: '.artifacts-content',\n\t                id: Kenseo.page.id,\n\t                colStr: 'Artefacts',\n\t                data: { projects: true, project_id: Kenseo.page.id, sharePermission: false, sortBy: 'default' },\n\t                stopRenderX: true,\n\t                preLoader: function preLoader(response) {\n\t                    $('.artifacts-section').html(_.template(templates['artefacts'])(response));\n\t                }\n\t            });\n            },\n            'pp-activities': function(){\n            \treturn new Kenseo.views.Activities({ collection: new Kenseo.collections.Artefacts(), data: { projectActivities: true, project_id: Kenseo.page.id } });\n            },\n            'pp-people': function(){\n            \treturn new Kenseo.views.People({\n\t                el: '.people-section-content',\n\t                colStr: 'People',\n\t                data: { projectId: Kenseo.page.id },\n\t                preLoader: function preLoader(response) {\n\t                    $('.people-section').html(_.template(templates['people'])());\n\t                }\n\t            });\n            }\n\t\t},\n\t\t'meeting-notes': {\n\t\t\t'meeting-notes': function(){\n\t\t\t\treturn sb.renderTemplate({\n\t                url: sb.getRelativePath('getMeetingNotes'),\n\t                data: {\n\t                    meetingId: Kenseo.data.meetingId\n\t                },\n\t                templateName: 'meetingnotes',\n\t                templateHolder: $('.content-wrapper'),\n\t                callbackfunc: function() {\n\t                    //since we have the Html ready now we can have the editor in place.\n\t                    var textEditorObj = new textEditor(document.querySelector('.text-editor-section'));\n\t                    sb.meeting.notes();\n\t                }\n\t            });\n\t\t\t}\n\t\t},\n\t\t'projects-page': {\n\t\t\t'projects-page': function(){\n\t\t\t\treturn sb.renderTemplate({ collection: new Kenseo.collections.Projects(),data: { includeArchives: true,userProjects: true }, templateName: 'db-projects-section', 'templateHolder': $('.projects-page') });\n\t\t\t}\n\t\t}\n\t}\n\n\tvar actionType = {\n\t\tarchiveProject : function(){\n\t\t\trefreshSection('dashboard', 'db-projects');\n\t\t},\n\t\tarchiveArtefact: function(){\n\t\t\t// Kenseo.currentModel.collection.remove(Kenseo.currentModel);\n\t\t\trefreshSection('dashboard', 'db-artefacts');\n\t\t},\n\t\tdeleteArtefact: function(){\n\t\t\t// Kenseo.currentModel.collection.remove(Kenseo.currentModel);\n\t\t\tif(Kenseo.current.page == \"dashboard\"){\n\t\t\t\trefreshSection('dashboard', 'db-artefacts');\n\t\t\t}\n\t\t\telse if(Kenseo.current.page == \"project-page\"){\n\t\t\t\trefreshSection('project-page', 'pp-artefacts');\n\t\t\t}\n\t\t},\n\t\taddProject: function(){\n\t\t\trefreshSection('dashboard', 'db-projects');\n\t\t},\n\t\taddArtefact: function(){\n\t\t\trefreshSection('dashboard', 'db-artefacts');\n\t\t\trefreshSection('dashboard', 'db-notifications');\n\t\t\trefreshSection('project-page', 'pp-artefacts');\n\t\t},\n\t\tunarchiveProject: function(){\n\t\t\trefreshSection('projects-page', 'projects-page');\n\t\t},\n\t\taddPeople: function(){\n\t\t\trefreshSection('project-page', 'pp-people');\n\t\t},\n\t\tremovePeople: function(){\n\t\t\trefreshSection('project-page', 'pp-people');\n\t\t}\n\t}\n\tfunction refreshSection(sectionName, subSection){\n\t\tvar specificSection = sections[sectionName];\n\t\tif(!subSection){\n\t\t\tfor(var s in specificSection){\n\t\t\t\tspecificSection[s]();\n\t\t\t}\n\t\t}\n\t\telse{\n\t\t\tspecificSection[subSection]();\n\t\t}\n\t}\n\treturn {\n\t\tsection: refreshSection,\n\t\ttype: function(actionTypeProp){\n\t\t\tif(actionType[actionTypeProp]){\n\t\t\t\tactionType[actionTypeProp]();\n\t\t\t}\n\t\t\telse{\n\t\t\t\tsb.log(\"undefined actionType\");\n\t\t\t}\n\t\t}\n\t}\n})();"],"sourceRoot":"/source/"}