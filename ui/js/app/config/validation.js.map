{"version":3,"sources":["config/validation.js"],"names":[],"mappings":";;;;;;;;AAMA,IAAI,UAAU,GAAG,CAAC,YAAU;;AAE3B,KAAI,iBAAiB,GAAG,CAAC,CAAC;AAC1B,KAAI,kBAAkB,GAAG,IAAI,CAAC;AAC9B,KAAI,gBAAgB,GAAG,EAAE,CAAC;AAC1B,KAAI,cAAc,GAAG;AACpB,SAAO,EAAE;AACR,QAAK,EAAE,gBAAgB;AACvB,UAAO,EAAE,eAAS,KAAK,EAAC;AACvB,WAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC;IAC9B;GACD;AACD,SAAO,EAAE;AACR,QAAK,EAAE,kBAAkB;AACzB,UAAO,EAAE,eAAS,KAAK,EAAC;AACvB,QAAI,MAAM,GAAG,sGAAsG,CAAC;AACpH,WAAO,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC1B;GACD;EACD,CAAA;AACD,KAAI,UAAU,GAAG,SAAb,UAAU,CAAY,cAAc,EAAE,KAAK,EAAC;AAC/C,MAAI,QAAQ,GAAG,cAAc,CAAC,cAAc,CAAC,CAAC;AAC9C,MAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,EAAC;AACzB,mBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;AACpC,UAAO,IAAI,CAAC;GACZ,MACG;AACH,UAAO,KAAK,CAAC;GACb;EACD,CAAA;AACD,KAAI,gBAAgB,GAAG,SAAnB,gBAAgB,CAAY,MAAM,EAAC;AACtC,QAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;EAC/B,CAAA;AACD,KAAI,mBAAmB,GAAG,SAAtB,mBAAmB,CAAY,MAAM,EAAC;AACzC,QAAM,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;EAClC,CAAA;AACD,KAAI,iBAAiB,GAAG,SAApB,iBAAiB,CAAY,MAAM,EAAE,gBAAgB,EAAC;AACzD,MAAI,KAAK,GAAG,MAAM,CAAC,GAAG,EAAE,CAAC;AACzB,OAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,gBAAgB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AAC/C,OAAG,UAAU,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,EAAC;AACzC,qBAAiB,EAAE,CAAC;;AAEpB,oBAAgB,CAAC,MAAM,CAAC,CAAC;;;;AAIzB,UAAM;IACN;GACD;EACD,CAAA;AACD,KAAI,kBAAkB,GAAG,SAArB,kBAAkB,CAAY,EAAE,EAAC;AACpC,SAAO,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;EAC7C,CAAA;AACD,KAAI,UAAU,GAAG,SAAb,UAAU,CAAY,WAAW,EAAC;AACrC,MAAI,oBAAoB,GAAG,WAAW,CAAC,IAAI,CAAC,gCAAgC,CAAC,CAAC;AAC9E,MAAG,oBAAoB,EAAC;AACvB,qBAAkB,GAAG,CAAC,CAAC,oBAAoB,CAAC,CAAC;AAC7C,OAAI,cAAc,GAAG,kBAAkB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;;AAE/D,IAAC,CAAC,yBAAyB,CAAC,CAAC,MAAM,EAAE,CAAC;;AAEtC,oBAAiB,GAAG,CAAC,CAAC;;AAEtB,mBAAgB,GAAG,EAAE,CAAC;;AAEtB,iBAAc,CAAC,IAAI,CAAC,YAAU;AAC7B,QAAI,MAAM,GAAG,kBAAkB,CAAC,IAAI,CAAC,CAAC;AACtC,uBAAmB,CAAC,MAAM,CAAC,CAAC;IAC5B,CAAC,CAAC;;AAEH,QAAI,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAC;AAC1D,QAAI,MAAM,GAAG,kBAAkB,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;AACnD,QAAI,aAAa,GAAG,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;AACzC,QAAG,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,EAAC;AAC9B,SAAI,aAAa,GAAG,MAAM,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;AACtD,SAAG,aAAa,EAAC;AAChB,UAAI,gBAAgB,GAAG,aAAa,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;AAEhD,uBAAiB,CAAC,MAAM,EAAE,gBAAgB,CAAC,CAAC;MAC5C,MACG;;MAEH;KACD,MACG;;MAEH;IACD;AACD,UAAO,iBAAiB,IAAI,CAAC,CAAC;GAC9B;;;AAGD,SAAO,IAAI,CAAC;EACZ,CAAA;AACD,KAAI,UAAU,GAAG,SAAb,UAAU,CAAY,WAAW,EAAC;AACrC,MAAG,UAAU,CAAC,WAAW,CAAC,EAAC;AAC1B,UAAO,IAAI,CAAC;GACZ,MACG;;AAEH,OAAI,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;AACxC,MAAG,CAAC,SAAS,GAAG,wBAAwB,CAAC;AACzC,OAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AACtC,QAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,gBAAgB,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AAC/C,QAAI,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AACtC,MAAE,CAAC,SAAS,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC;AACnC,MAAE,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;IACnB;AACD,MAAG,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;AACpB,qBAAkB,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;;;AAGnC,KAAE,CAAC,SAAS,GAAG,gBAAgB,CAAC;;AAEhC,qBAAkB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC;;;AAGxD,aAAU,CAAC,CAAA,YAAU;AACpB,QAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;IAC7B,CAAA,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;;AAEpB,aAAU,CAAC,CAAA,YAAU;AACpB,QAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;IAChC,CAAA,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;;;AAGtB,UAAO,KAAK,CAAC;GACb;EACD,CAAA;AACD,QAAO;AACN,YAAU,EAAE,UAAU;EACtB,CAAA;CACD,CAAA,EAAG,CAAC","file":"config/validation.js","sourcesContent":["// Some rules to do validation \n// - The clicked button to trigger validation must have \"data-target-validating-section\" attribute, this attribute value's element is the wrapper of all the fields\n// - The \"data-target-validating-section\" value element must have overflow: hidden and non-static value position\n// - The field should be wrapped in a \".field-section\" element\n// - The field should have \".required\" class\n// - The field should have \"data-validate-this\" attribute with all necessary validations as comma separated values\nvar validation = (function(){ \n\t// This counter will be incremented if any field has error\n\tvar validatingCounter = 0;\n\tvar $validationSection = null;\n\tvar allErrorMessages = [];\n\tvar allValidations = {\n\t\t'empty': {\n\t\t\t'msg': 'Field is empty',\n\t\t\t'check': function(value){\n\t\t\t\treturn !!$.trim(value).length;\n\t\t\t}\n\t\t},\n\t\t'email': {\n\t\t\t'msg': 'Email is invalid',\n\t\t\t'check': function(value){\n\t\t\t\tvar filter = /^([\\w-\\.]+)@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.)|(([\\w-]+\\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\\]?)$/;\n\t\t\t\treturn filter.test(value);\n\t\t\t}\n\t\t}\n\t}\n\tvar checkField = function(validatingType, value){\n\t\tvar validate = allValidations[validatingType];\n\t\tif(!validate.check(value)){\n\t\t\tallErrorMessages.push(validate.msg);\n\t\t\treturn true;\n\t\t}\n\t\telse{\n\t\t\treturn false;\n\t\t}\n\t}\n\tvar addErrorSkinning = function($field){\n\t\t$field.addClass('error-field');\n\t}\n\tvar removeErrorSkinning = function($field){\n\t\t$field.removeClass('error-field');\n\t}\n\tvar validateThisField = function($field, validatingTokens){\n\t\tvar value = $field.val();\n\t\tfor(var i = 0; i < validatingTokens.length; i++){\n\t\t\tif(checkField(validatingTokens[i], value)){\n\t\t\t\tvalidatingCounter++;\n\t\t\t\t// Add skinning\n\t\t\t\taddErrorSkinning($field);\n\t\t\t\t// push the message\n\t\t\t\t// errorMessages().addNewMsg(validatingTokens[i]);\n\t\t\t\t// break to avoid further validations on the same field\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar getValidatingField = function(el){\n\t\treturn $(el).find('input, textarea, select');\n\t}\n\tvar isValidate = function($clickedBtn){\n\t\tvar validationSectionStr = $clickedBtn.attr('data-target-validating-section');\n\t\tif(validationSectionStr){\n\t\t\t$validationSection = $(validationSectionStr);\n\t\t\tvar $fieldSections = $validationSection.find('.field-section');\n\t\t\t// remove all before present error messages container\n\t\t\t$('.error-messages-wrapper').remove();\n\t\t\t// initializing counter\n\t\t\tvalidatingCounter = 0;\n\t\t\t// initializing error messages\n\t\t\tallErrorMessages = [];\n\t\t\t// Reset previous error fields\n\t\t\t$fieldSections.each(function(){\n\t\t\t\tvar $field = getValidatingField(this);\n\t\t\t\tremoveErrorSkinning($field);\n\t\t\t});\n\t\t\t// Do validation\n\t\t\tfor(var j = 0, jLen = $fieldSections.length; j < jLen; j++){\n\t\t\t\tvar $field = getValidatingField($fieldSections[j]);\n\t\t\t\tvar $fieldSection = $($fieldSections[j]);\n\t\t\t\tif($field.hasClass('required')){\n\t\t\t\t\tvar validatingStr = $field.attr('data-validate-this');\n\t\t\t\t\tif(validatingStr){\n\t\t\t\t\t\tvar validatingTokens = validatingStr.split(\",\");\n\t\t\t\t\t\t//\n\t\t\t\t\t\tvalidateThisField($field, validatingTokens);\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\t// 'data-validate-this' attribute is not provided\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\t// leave it\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn validatingCounter == 0;\n\t\t}\n\t\t// the validationSectionStr is not present\n\t\t// So we can safely assume that the validation is true\n\t\treturn true;\n\t}\n\tvar doValidate = function($clickedBtn){\n\t\tif(isValidate($clickedBtn)){\n\t\t\treturn true;\n\t\t}\n\t\telse{\n\t\t\t// functionality to show the global validation messages\n\t\t\tvar div = document.createElement('div');\n\t\t\tdiv.className = \"error-messages-wrapper\";\n\t\t\tvar ul = document.createElement('ul');\n\t\t\tfor(var k = 0; k < allErrorMessages.length; k++){\n\t\t\t\tvar li = document.createElement('li');\n\t\t\t\tli.innerHTML = allErrorMessages[k];\n\t\t\t\tul.appendChild(li);\n\t\t\t}\n\t\t\tdiv.appendChild(ul);\n\t\t\t$validationSection.prepend($(div));\n\t\t\t//\n\t\t\t// Add error class to show all the error messages\n\t\t\tul.className = 'error-messages';\n\t\t\t// set focus on first error-field\n\t\t\t$validationSection.find('.error-field').first().focus();\n\t\t\t// Hide above added error messages by removing the above added class after some time\n\t\t\t// $(div).addClass('show-errors').delay(2000).removeClass('show-errors');\n\t\t\tsetTimeout(function(){\n\t\t\t\tthis.addClass('show-errors');\n\t\t\t}.bind($(div)), 10);\n\n\t\t\tsetTimeout(function(){\n\t\t\t\tthis.removeClass('show-errors');\n\t\t\t}.bind($(div)), 3010);\n\n\t\t\t// return false to acknowledge\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn {\n\t\tdoValidate: doValidate\n\t}\n})();"],"sourceRoot":"/source/"}