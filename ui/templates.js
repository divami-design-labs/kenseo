var templates =  { 'reference-items': '<% _.each(data, function(d){ %> <div class="suggestion-item <% if(d.className) { %><%= d.className %> <% } %>" name="<%= d.id %>" <%if(d.email) { %>email= "<%= d.email %>" <% } %> > <%= d.name %> </div> <% }); %>', artefacts: '<% if(params.projects && params.sortBy){ %> <div class="sub-heading-section"> <div class="artifacts-heading sub-heading"> <div class="sub-heading-label">Artefacts</div> <div class="sub-heading-add-wrapper"> <div class="sub-heading-add-icon popup-click" data-url="add-artefact" data-index="1"> <svg><use xlink:href="#add"></use></svg> </div> </div> <% if(data.length){ %> <div class="sub-heading-more-options html-click sub-menu-nav" data-html-class="active"> <div class="sub-heading-more-icon"><svg><use xlink:href="#more"></use></svg></div> <div class="sub-menu-holder left-nav bottom-nav"> <div class="sub-menu-item sort-item" data-stype="name">Sort by Name</div> <div class="sub-menu-item sort-item" data-stype="date">Sort by Date</div> <div class="sub-menu-item sort-item" data-stype="owner">Group by Owner</div> <div class="sub-menu-item sort-item" data-stype="default">Default Sort</div> </div> </div> <% } %> </div> </div> <div class="artifacts-content sub-section-content <% if(params.sortBy && params.sortBy === \'default\'){ %> linked-artefacts <% } %>"> <div class="sort-view">Sort By <% if(params && params.sortBy){ %> <%= _.capitalize(params.sortBy) %> <% } else { %>Default <% } %></div> <% } else{ %> <div class="review-requests-heading"> <div class="review-requests-icon"> <svg><use xlink:href="#reviewrequest"></use></svg> </div> <div class="heading-text">Shared Artefacts</div> </div> <div class="review-requests-content"> <% } %> <% _.each(data, function(d){ %> <%= sb.setTemplate(\'artefact\', {data: d}) %> <% }) %> <% if(params.projects && params.sortBy){ %> </div> <% } else{ %> </div> <% } %>', 'no-items': '<div class="no-items <% if(data.classes){ %> <%= data.classes %> <% } %>"> <% if(data.message){ %> <%= data.message %> <% } else if(data.add){ %> <div class="add-icon big inlineBlockMid"></div> <div class="no-items-text inlineBlockMid"><%= data.name %></div> <% } else { %> No Items to show <% } %> </div>', versions: '<% for(var i=0; i< data.length, i++{ %> <% if(i === 0 || i%4 === 0){ %> <div> <% } %> <% var v = data[i]; %> <span data-date="<%= v.date %>"><%= v.num %></span> <% if(i === data.length-1 || (i+1)%4 === 0){ %> </div> <% } %> <% } %>', dashboard: '<div class="fixed-content"> <div class="review-requests-section"> <div class="review-requests-heading"> <div class="review-requests-icon"> <svg><use xlink:href="#reviewrequest"></use></svg> </div> <div class="heading-text">Shared Artefacts</div> </div> <div class="review-requests-content"> </div> </div> <div class="notifications-section"> <div class="notifications-heading"> <div class="notifications-heading-icon"> <svg><use xlink:href="#notify"></use></svg> </div> <div class="heading-text">Notifications</div> </div> <div class="notifications-content"> </div> </div> </div> <div class="projects-section"> <div class="projects-heading"> <div class="projects-heading-icon"> <svg><use xlink:href="#projects"></use></svg> </div> <div class="heading-text">Projects</div> </div> <div class="projects-section-content"> </div> </div> ', 'db-notifications': '<% var newData = sb.getDayWiseData(data) %> <% if(newData){ %> <% for(var key in newData){ %> <div class="day-notifications"> <div class="day-notifications-label"><%= key %></div> <div class="notifications-holder"> <% _.each(newData[key], function(n){ %> <a href="<% if(n.type == "M"){ %>#meetingnotes/<%= n.refId %><% } else { %>#documentview/<%= n.masked_artefact_version_id %> <% } %>" class="notification-item page-click" data-url="meeting-notes"> <% if(n.type == "M"){ %> <div class="notification-meeting-icon"> <svg><use xlink:href="#calendar"></use></svg> </div> <% } else if(n.type == "C") { %> <div class="notification-comment-icon"> <svg><use xlink:href="#baloon1"></use></svg> </div> <% } else if(n.type == "S"){ %> <div class="notification-file-icon"> <svg><use xlink:href="#file"></use></svg> </div> <% } %> <div class="notification-title" title="<%= n.title %>"> <%= n.title %> </div> <div class="notification-time"> <%= sb.timeFormat(n.time) %> by <%= n.notifier %> </div> <% if(n.meetingDetails){ %> <div class="meeting-notify-section"> <div class="mn-left"> <div>Meeting @ Conference 2</div> <div class="mn-left-title"><%= n.meetingDetails.title %></div> <div class="meeting-notify-icon"></div> <div class="clock-icon"><svg><use xlink:href="#clock"></use></svg></div> </div> <div class="mn-right"> <div><%= sb.timeFormat(n.meetingDetails.time) %></div> <div><%= sb.getTime(n.meetingDetails.time) %></div> </div> </div> <% } %> </a> <% }); %> </div> </div> <% } %> <% } else{ %> <div class="no-items"> No notifications yet </div> <% } %>', 'db-projects-section': '<% if(data.length){ %> <% _.each(data, function(p){ %> <div class="project-block"> <%= sb.setTemplate(\'project-section\', {data: p}) %> </div> <% }); %> <% } else{ %> <div class="no-items"> No projects to show </div> <% } %>', 'project-section': '<img src="http://lorempixel.com/sports/280/200" /> <div class="project-block-overlay"> <div class="project-block-overlay-wrapper"> <div class="project-block-title"> <%= data.name %> </div> <div class="project-block-details"> <div class="project-block-details-icon"> <svg><use xlink:href="#calendar"></use></svg> </div> <div class="project-block-details-text ellipsis">Last Updated on <%= sb.timeFormat(data.last_updated_date) %></div> </div> </div> </div> <div class="project-block-hover-content data-holder" data-key="projects" data-id="<%= data.id %>"> <div class="project-black-out"></div> <div class="project-actions-wrapper"> <div class="project-action popup-click" data-url="add-artefact" data-index="1"> <div class="project-action-icon add-artefact-icon"> <svg><use xlink:href="#artifacts"></use></svg> </div> <div class="project-action-label">Add an Artefact</div> </div> <div class="project-action popup-click" data-url="add-people"> <div class="project-action-icon add-user-icon"> <svg><use xlink:href="#adduser"></use></svg> </div> <div class="project-action-label">Add User</div> </div> <% if(data[\'is_archive\'] == "0"){ %> <div class="project-action popup-click" data-url="archive-project" data-index="0"> <div class="project-action-icon archive-icon"> <svg><use xlink:href="#archive"></use></svg> </div> <div class="project-action-label">Archive</div> </div> <% } else { %> <div class="project-action popup-click" data-url="unarchive-project" data-index="0"> <div class="project-action-icon archive-icon"> <svg><use xlink:href="#archive"></use></svg> </div> <div class="project-action-label">Unarchive</div> </div> <% } %> </div> <a href="#projectpage/<%= data.id %>" class="btn-project-open page-click">Open Project</a> </div>', 'comment-item': '<% var data = arguments[0] %> <div class="cv-comments-item"> <div class="cv-main-person"> <div class="cv-person-left"> <svg class="profile-image-comment"><use xlink:href="#avatar"></use></svg> </div> <div class="cv-person-right"> <div class="cv-person-right-top"> <div class="cv-person-name-holder"> <span class="cv-person-name"><%= data.user %></span> <span class="cv-person-time"><%= sb.timeFormat(data.time) %></span> </div> <% if(data.metaInfo){ %> <div class="cv-person-meta"> <span class="cv-person-category">Typo</span> <span class="cv-person-status">Open</span> </div> <% } %> </div> <div class="cv-comment-detail"><%= data.description %></div> <% if(data.metaInfo){ %> <div class="cv-more-replys"><a href="#">+2 More</a></div> <% } %> </div> </div> </div>', comment: '<% var severities = Kenseo.settings.severities; var categories = Kenseo.settings.categories; var states = Kenseo.settings.states; %> <div class="shape" data-type="severity" data-k-severity=\'<%= data.severity || "R" %>\'> </div> <div class="drpdwn drpdwn--severity html-click" data-html-target="this > .drpdwn-items" data-html-class="show"> <svg><use xlink:href="#severity-drpdwn-icn"></use></svg> <div class="drpdwn-items"> <% var severityCounter = 1 %> <% for(var key in severities){ %> <div class="drpdwn-item" <% if(data.severity){ %> <% if(data.severity == "R"){ %>data-selected="true" <% } } else { if(severityCounter == 1) { %>data-selected="true" <% } } %> data-value="<%= key %>"> <div class="drpdwn-item-icon drpdwn-item-icon__<%= key %>"></div> <div class="drpdwn-item-text"><%= severities[key] %></div> <% severityCounter++ %> </div> <% } %> </div> </div> <div class="comment-section"> <div class="comment-section-header"> <div class="drpdwn drpdwn--category html-click" data-type="category" data-k-category="<%= data.category %>" data-html-class="show" data-html-target="this > .drpdwn-items"> <div class="drpdwn-hdg-txt">Category:&nbsp; </div> <div class="drpdwn-selected-text"> <%= categories[data.category] || categories["I"] %> <svg class="drpdwn-selected-text-icn"><use xlink:href="#dropdown-icn"></use></svg> </div> <div class="drpdwn-items"> <% for(var key in categories){ %> <div class="drpdwn-item" data-value="<%= key %>"><%= categories[key] %></div> <% } %> </div> </div> <div class="drpdwn drpdwn--status html-click" data-type="state" data-k-state="<%= data.state %>" data-html-class="show" data-html-target="this > .drpdwn-items"> <div class="drpdwn-hdg-txt">Status:&nbsp;</div> <div class="drpdwn-selected-text"> <%= states[data.state] || states["O"] %> <svg class="drpdwn-selected-text-icn"><use xlink:href="#dropdown-icn"></use></svg> </div> <div class="drpdwn-items"> <% for(var key in states){ %> <div data-value="<%= key %>" class="drpdwn-item"><%= states[key] %></div> <% } %> </div> </div> </div> <div class="comment-section-body"> <div class="comment-sec-wrapper"> <% for(var key in data.comments){ %> <%= sb.setTemplate(\'comment-item\', data.comments[key]) %> <% } %> </div> <div class="write-comment-section"> <textarea class="write-comment" placeholder="Type your comment here"></textarea> </div> <div class="buttons-section"> <div class="buttons-left-section"> <% var privateObj = { \'text\': "Private message", "attr": { "data-k-is_private": data.is_private || 0, "class": "private-chk" } } %> <% if(data[\'is_private\'] == "1"){ privateObj.attr.checked = true; } %> <%= sb.toolbox.checkbox(privateObj) %> </div> <div class="buttons-right-section"> <% var postObj = { "data": { "buttons": [{ "label": "Cancel", "cls": "lnk-btn cancel-btn" }, { "label": "Done", "cls": "main-btn" }] } } %> <% if(!data.newComment){ postObj.data.buttons[1].disabled = "true"; } %> <%= sb.toolbox.buttons(postObj) %> </div> </div> </div> </div>', 'comments-viewer': '<div class="comments-view-holder"> <div class="comments-viewer-header"> Comments Summary <div class="filter-icon"></div> </div> <div class="comments-view-section"> <form class="comments-view-filter-section"> <div class="filter-checkboxes"> <div class="filter-checkboxes-heading">Severities</div> <div class="filter-checkboxes-content"> <%= sb.toolbox.checkbox({ text: "All Severities", attr: { \'name\': \'severities\', \'data-all\': true } }) %> <%= sb.toolbox.checkbox({ text: "Red", attr: { \'name\': \'severities[0]\' } }) %> <%= sb.toolbox.checkbox({ text: "Green", attr: { \'name\': \'severities[1]\' } }) %> </div> </div> <div class="filter-checkboxes"> <div class="filter-checkboxes-heading">Categories</div> <div class="filter-checkboxes-content"> <%= sb.toolbox.checkbox({ text: "All Categories", attr: { \'name\': \'categories\', \'data-all\': true } }) %> <%= sb.toolbox.checkbox({ text: "Typo", attr: { \'name\': \'categories[0]\' } }) %> <%= sb.toolbox.checkbox({ text: "IXD", attr: { \'name\': \'categories[1]\' } }) %> <%= sb.toolbox.checkbox({ text: "UID", attr: { \'name\': \'categories[2]\' } }) %> <%= sb.toolbox.checkbox({ text: "IA", attr: { \'name\': \'categories[3]\' } }) %> <%= sb.toolbox.checkbox({ text: "Persona", attr: { \'name\': \'categories[4]\' } }) %> </div> </div> <div class="filter-checkboxes"> <div class="filter-checkboxes-heading">Status</div> <div class="filter-checkboxes-content"> <%= sb.toolbox.checkbox({ text: "All Statuses", attr: { \'name\': \'status\', \'data-all\': true } }) %> <%= sb.toolbox.checkbox({ text: "Addressed", attr: { \'name\': \'status[0]\' } }) %> <%= sb.toolbox.checkbox({ text: "Open", attr: { \'name\': \'status[1]\' } }) %> <%= sb.toolbox.checkbox({ text: "Reopened", attr: { \'name\': \'status[2]\' } }) %> <%= sb.toolbox.checkbox({ text: "Closed", attr: { \'name\': \'status[3]\' } }) %> </div> </div> <div class="buttons-section"> <%= sb.toolbox.button({ data: { cls: "main-btn", "label": "Apply Filters" } }) %> </div> </form> <div class="cv-comments-section"> <%= sb.setTemplate(\'comment-item\') %> <%= sb.setTemplate(\'comment-item\') %> <%= sb.setTemplate(\'comment-item\') %> </div> </div> </div>', 'dv-peoplesection': '<div class="dv-tb-people-wrapper"> <% if(data && data.sharedTo.length > 3){ %> <div class="left-slider"> <svg><use xlink:href="#left-slider"></use></svg> </div> <% } %> <div class="dv-tb-people"> <% _.each(data.sharedTo, function(p){ %> <% if(data.profilePic !== "assets/imgs/avatar.svg"){ %> <img class="profile-image-black" src="<%= p.profilePic %>"/> <% } else { %> <svg class="profile-image-black"><use xlink:href="#avatar"></use></svg> <% } %> <% }); %> </div> <% if(data && data.sharedTo.length > 3){ %> <div class="right-slider"> <svg><use xlink:href="#right-slider"></use></svg> </div> <% } %> </div> ', 'image-viewer': '<div class="outerContainer inView" rel="pdf_<%= data[\'artefact_ver_id\'] %>"><%= sb.setTemplate(\'pdf-toolbar\', {data: data}) %></div>', 'pdf-toolbar': '<!-- sidebarContainer --> <div id="mainContainer"> <div class="findbar hidden doorHanger hiddenSmallView" id="findbar"> <label for="findInput" class="toolbarLabel" data-l10n-id="find_label">Find:</label> <input id="findInput" class="toolbarField" tabindex="91"> <div class="splitToolbarButton"> <button class="toolbarButton findPrevious" title="" id="findPrevious" tabindex="92" data-l10n-id="find_previous"> <span data-l10n-id="find_previous_label">Previous</span> </button> <button class="toolbarButton findNext" title="" id="findNext" tabindex="93" data-l10n-id="find_next"> <span data-l10n-id="find_next_label">Next</span> </button> </div> <input type="checkbox" id="findHighlightAll" class="toolbarField"> <label for="findHighlightAll" class="toolbarLabel" tabindex="94" data-l10n-id="find_highlight">Highlight all</label> <input type="checkbox" id="findMatchCase" class="toolbarField"> <label for="findMatchCase" class="toolbarLabel" tabindex="95" data-l10n-id="find_match_case_label">Match case</label> <span id="findMsg" class="toolbarLabel"></span> </div> <!-- findbar --> <div id="secondaryToolbar" class="secondaryToolbar hidden doorHangerRight"> <div id="secondaryToolbarButtonContainer"> <button id="secondaryPresentationMode" class="secondaryToolbarButton presentationMode visibleLargeView" title="Switch to Presentation Mode" tabindex="51" data-l10n-id="presentation_mode"> <span data-l10n-id="presentation_mode_label">Presentation Mode</span> </button> <button id="secondaryOpenFile" class="secondaryToolbarButton openFile visibleLargeView" title="Open File" tabindex="52" data-l10n-id="open_file"> <span data-l10n-id="open_file_label">Open</span> </button> <button id="secondaryPrint" class="secondaryToolbarButton print visibleMediumView" title="Print" tabindex="53" data-l10n-id="print"> <span data-l10n-id="print_label">Print</span> </button> <button id="secondaryDownload" class="secondaryToolbarButton download visibleMediumView" title="Download" tabindex="54" data-l10n-id="download"> <span data-l10n-id="download_label">Download</span> </button> <a href="#" id="secondaryViewBookmark" class="secondaryToolbarButton bookmark visibleSmallView" title="Current view (copy or open in new window)" tabindex="55" data-l10n-id="bookmark"> <span data-l10n-id="bookmark_label">Current View</span> </a> <div class="horizontalToolbarSeparator visibleLargeView"></div> <button id="firstPage" class="secondaryToolbarButton firstPage" title="Go to First Page" tabindex="56" data-l10n-id="first_page"> <span data-l10n-id="first_page_label">Go to First Page</span> </button> <button id="lastPage" class="secondaryToolbarButton lastPage" title="Go to Last Page" tabindex="57" data-l10n-id="last_page"> <span data-l10n-id="last_page_label">Go to Last Page</span> </button> <div class="horizontalToolbarSeparator"></div> <button id="pageRotateCw" class="secondaryToolbarButton rotateCw" title="Rotate Clockwise" tabindex="58" data-l10n-id="page_rotate_cw"> <span data-l10n-id="page_rotate_cw_label">Rotate Clockwise</span> </button> <button id="pageRotateCcw" class="secondaryToolbarButton rotateCcw" title="Rotate Counterclockwise" tabindex="59" data-l10n-id="page_rotate_ccw"> <span data-l10n-id="page_rotate_ccw_label">Rotate Counterclockwise</span> </button> <div class="horizontalToolbarSeparator"></div> <button id="toggleHandTool" class="secondaryToolbarButton handTool" title="Enable hand tool" tabindex="60" data-l10n-id="hand_tool_enable"> <span data-l10n-id="hand_tool_enable_label">Enable hand tool</span> </button> <div class="horizontalToolbarSeparator"></div> <button id="documentProperties" class="secondaryToolbarButton documentProperties" title="Document Properties…" tabindex="61" data-l10n-id="document_properties"> <span data-l10n-id="document_properties_label">Document Properties…</span> </button> </div> </div> <!-- secondaryToolbar --> <div class="toolbar"> <div id="toolbarContainer"> <div id="toolbarViewer"> <div id="toolbarViewerLeft"> <button id="viewFind" class="toolbarButton group hiddenSmallView" title="Find in Document" tabindex="12" data-l10n-id="findbar"> <span data-l10n-id="findbar_label">Find</span> </button> </div> <% if(data.isPdf) { %> <div id="toolbarViewerRight"> <button id="zoomOut" class="toolbarButton zoomOut" title="Zoom Out" tabindex="21" data-l10n-id="zoom_out"> <svg><use xlink:href="#zoom-out"></use></svg> <span data-l10n-id="zoom_out_label">Zoom Out</span> </button> <div class="slider"> <div class="thumb"></div> </div> <button id="zoomIn" class="toolbarButton zoomIn" title="Zoom In" tabindex="22" data-l10n-id="zoom_in"> <svg><use xlink:href="#zoom-in"></use></svg> <span data-l10n-id="zoom_in_label">Zoom In</span> </button> <button class="toolbarButton pageUp" title="Previous Page" id="previous" tabindex="13" data-l10n-id="previous"> <svg><use xlink:href="#previous-page-icon"></use></svg> <span data-l10n-id="previous_label">Previous</span> </button> <input type="text" id="pageNumber" class="toolbarField pageNumber" value="1" size="4" min="1" tabindex="15"> <span id="numPages" class="toolbarLabel"></span> <button class="toolbarButton pageDown" title="Next Page" id="next" tabindex="14" data-l10n-id="next"> <svg><use xlink:href="#next-page-icon"></use></svg> <span data-l10n-id="next_label">Next</span> </button> </div> <button id="presentationMode" class="toolbarButton presentationMode hiddenLargeView" title="Switch to Presentation Mode" tabindex="31" data-l10n-id="presentation_mode"> <span data-l10n-id="presentation_mode_label">Presentation Mode</span> </button> <% } %> </div> </div> <div id="loadingBar"> <div class="progress"> <div class="glimmer"> </div> </div> </div> </div> </div> <%= sb.setTemplate(\'comments-viewer\') %> <div id="viewerContainer" class="parent viewerContainer" tabindex="0"> <div class="annotate-wrapper"> <% if(data.isPdf) { %> <div id="viewer" class="pdfViewer"></div> <% } else { %> <img class="image-viewer" src="<%= sb.getRelativePath(data.documentPath) %>"/> <% } %> </div> <div class="current-artefact-info bar"> <div>Projects > <%= data.projName %> > <%= data.artTitle %> </div> <div class="html-click show-all-versions"> <div> <span>v<%= data.versionNo %>.0</span> <div class="info-bar-dropdown-version-no-icon"> <svg><use xlink:href="#up-drpdwn"></use></svg> </div> </div> <div class="sub-menu-holder left-nav top-nav"> <% _.each(data.versions, function(p){ %> <div class="sub-menu-item"> <span>v<%= p.versionNo %>.0</span> <div class="actions"> <a href="#compare/<%= p.versionId%>" class="v-compare-icon page-click"> <svg><use xlink:href="#v_compare"></use></svg> </a> <a href="#documentview/<%= p.versionId%>" class="v-open-icon page-click"> <svg><use xlink:href="#v_open"></use></svg> </a> </div> </div> <% }); %> </div> </div> </div> </div> <div id="errorWrapper" hidden=\'true\'> <div id="errorMessageLeft"> <span id="errorMessage"></span> <button id="errorShowMore" data-l10n-id="error_more_info"> More Information </button> <button id="errorShowLess" data-l10n-id="error_less_info" hidden=\'true\'> Less Information </button> </div> <div id="errorMessageRight"> <button id="errorClose" data-l10n-id="error_close"> Close </button> </div> <div class="clearBoth"></div> <textarea id="errorMoreInfo" hidden=\'true\' readonly="readonly"></textarea> </div> <div class="dv-toolbox"> <div class="dvt-item document-info-icon overlay-click" data-url="summary" title="Document summary"> <svg><use xlink:href="#document-info"></use></svg> </div> <div class="dvt-item add-comment-icon <% if(!data.isPdf){ %> hide <% } %>" data-value="rectangle" title="Add comment"> <svg><use xlink:href="#add-comment"></use></svg> </div> <div class="dvt-item toggle-annotations-icon <% if(!data.isPdf){ %> hide <% } %>" title="Toggle Comment view"> <svg><use xlink:href="#toggle-annotations"></use></svg> </div> <div class="dvt-item comment-summary-icon<% if(!data.isPdf){ %> hide <% } %>" title="Comment summary"> <svg><use xlink:href="#comment-summary"></use></svg> </div> <div class="dvt-item share-artefact-icon popup-click" data-url="share-artefact" data-index="3" title="Share this artefact"> <svg><use xlink:href="#share-artefact"></use></svg> </div> <div class="dvt-item submit-review-icon<% if(!data.isPdf){ %> hide <% } %>" title="Submit this document for review"> <svg><use xlink:href="#submit-review"></use></svg> </div> <div class="dvt-item more-menu-icon" title="more options"> <svg><use xlink:href="#more-menu"></use></svg> </div> </div>', 'pdf-viewer': '<div class="outerContainer inView" rel=\'pdf_<%= data.versionId %>\' > <div id="sidebarContainer"> <div id="toolbarSidebar"> <div class="splitToolbarButton toggled"> <button id="viewThumbnail" class="toolbarButton group toggled" title="Show Thumbnails" tabindex="2" data-l10n-id="thumbs"> <span data-l10n-id="thumbs_label">Thumbnails</span> </button> <button id="viewOutline" class="toolbarButton group" title="Show Document Outline" tabindex="3" data-l10n-id="outline"> <span data-l10n-id="outline_label">Document Outline</span> </button> <button id="viewAttachments" class="toolbarButton group" title="Show Attachments" tabindex="4" data-l10n-id="attachments"> <span data-l10n-id="attachments_label">Attachments</span> </button> </div> </div> <div id="sidebarContent"> <div id="thumbnailView"> </div> <div id="outlineView" class="hidden"> </div> <div id="attachmentsView" class="hidden"> </div> </div> </div> <% data.isPdf = true %> <%= sb.setTemplate(\'pdf-toolbar\', {data: data}) %> </div> <!-- mainContainer --> <div id="overlayContainer" class="hidden"> <div id="passwordOverlay" class="container hidden"> <div class="dialog"> <div class="row"> <p id="passwordText" data-l10n-id="password_label">Enter the password to open this PDF file:</p> </div> <div class="row"> <input type="password" id="password" class="toolbarField" /> </div> <div class="buttonRow"> <button id="passwordCancel" class="overlayButton"><span data-l10n-id="password_cancel">Cancel</span></button> <button id="passwordSubmit" class="overlayButton"><span data-l10n-id="password_ok">OK</span></button> </div> </div> </div> </div> <!-- overlayContainer --> </div> <!-- outerContainer -->', 'tab-file': '<a href="#documentview/<%= maskedVersionId %>" class="tab-item selectedTab" targetRel="<%= versionId %>"><div class= "fileTab"><svg><use xlink:href="#file-tab"></use></svg></div></a>', 'tab-img': '<a href="#documentview/<%= maskedVersionId %>" class="tab-item selectedTab" targetRel="<%= versionId %>"><div class= "imageTab"><svg><use xlink:href="#img-tab"></use></svg></div></a>', header: '<% if(data.picture !== "assets/imgs/avatar.svg"){ %> <img width="50" height="50" src="<%= data.picture %>"/> <% } else { %> <svg width="50" height="50"><use xlink:href="#avatar"></use></svg> <% } %> <div class="sub-menu-holder right-nav bottom-nav"> <div class="sub-menu-item">Profile</div> <div class="sub-menu-item">Settings</div> <div class="separator"></div> <div class="sub-menu-item">Log Out</div> </div> ', 'search-results': '<% _.each(data.projects, function(p){ %> <div class="search-row"> <div class="search-row-img search-img-type-folder"> <svg><use xlink:href="#search-folder"></use></svg> </div> <div class="search-row-txt"><%= p.matchedString %></div> </div> <% }); %> <% _.each(data.artefacts, function(a){ %> <div class="search-row"> <div class="search-row-img search-img-type-file"> <svg><use xlink:href="#search-file"></use></svg> </div> <div class="search-row-txt"><%= a.matchedString %></div> </div> <% }); %> <% _.each(data.images, function(i){ %> <div class="search-row"> <div class="search-row-img search-img-type-pic"> <svg><use xlink:href="#search-pic"></use></svg> </div> <div class="search-row-txt"><%= i.matchedString %></div> </div> <% }); %> <% _.each(data.users, function(u){ %> <div class="search-row"> <div class="search-row-img search-img-type-folder"> <svg><use xlink:href="#search-folder"></use></svg> </div> <div class="search-row-txt"><%= u.matchedString %></div> </div> <% }); %>', search: '<div class="search-section"> <form class="input-field"> <svg class="search-svg-icon"><use xlink:href="#search"></use></svg> <input class="search-field" placeholder="Search all" type="text"></input> </form> <div class="search-results"> </div> </div>', meetingnotes: '<% Kenseo.populate.meeting = data %> <div class="meeting-section"> <div class="project-heading"> <div class="projects-heading-icon"> <svg><use xlink:href="#projects"></use></svg> </div> <span class="heading-text-project">Projects &gt; </span> <span class="heading-text-project-name"><%= data.projectName %></span> <span class="heading-date">(<%= sb.timeFormat(data.startTime, true, true) %>)</span> <div class="meeting-update-btn-holder"> <div class="popup-click meeting-update-button" data-url="create-meeting">Update</div> </div> </div> <div class="meeting-wrapper"> <div class="meeting-left-section"> <div class="meta-item"> <div class="meta-heading">Under</div> <div class="meta-text"><%= data.projectName %></div> </div> <div class="meta-item"> <div class="meta-heading">Artefact</div> <div class="meta-text"><%= data.artefactName %></div> </div> <div class="meta-item"> <div class="meta-heading">Sender</div> <div class="meta-text"><%= data.createdBy %></div> </div> <div class="meta-item"> <div class="meta-heading">Agenda</div> <div class="meta-text"><%= data.agenda %></div> </div> <div class="meta-item"> <div class="meta-heading">Scheduled On</div> <div class="meta-text"> <div>Dec 04, 2014</div> <div>11:00 am to 12:00 pm</div> </div> </div> <div class="meta-item"> <div class="meta-heading">Venue</div> <div class="meta-text"><%= data.venue %></div> </div> <div class="meta-item"> <div class="meta-heading">Recipients</div> <% _.each(data.participants, function(p){ %> <div class="meta-text"><%= p.participentName %></div> <% }); %> </div> </div> <div class="meeting-right-section"> <div class="meeting-people-section"> <div class="meeting-people-active"> <div class=\'currentPersonNotes acitiveNotesPartcipant\' data-user="<%= data.participantId %>"> <div class="people-img-wrapper"> <img src="<%=data.participantPic%>" /> </div> <span class="meeting-people-name"> <%=data.participantName%> </span> </div> <% _.each(data.notes, function(p){ %> <div class=\'currentPersonNotes\' data-user="<%= p.userId %>"> <div class="meeting-people-active"> <div class="people-img-wrapper"> <img src="<%=p.profilePic%>" /> </div> <span class="meeting-people-name"> <%=p.userName%> </span> </div> <% }); %> </div> <div class="meeting-people-other"> <div class="people-img-wrapper participant active" data-user=<%=data.participantId%>> <img src="<%=data.participantPic%>" /> </div> <div class="v-separator"></div> <% _.each(data.notes, function(p){ %> <div class="people-img-wrapper participant" data-user=<%=p.userId%>> <img src="<%=p.profilePic%>" /> </div> <% }); %> </div> </div> <div class="text-editor-section"> <div class="text-actions-section"> <button name="text-b" text-name="bold">Bold</button> <button name="text-i" text-name="italic">Italic</button> <button name="text-u" text-name="underline">Underline</button> </div> <div class="text-editor view-notes selectedNotes" contenteditable=true data-user="<%= data.participantId %>"> <%=data.userNotes%> </div> <% _.each(data.notes, function(p){ %> <div class="view-notes" data-user="<%= p.userId %>" > <%= p.notes%> </div> <% }); %> </div> <label class="checkbox"> <input class="existing-files-chk" type="checkbox"> <span>Let others see my notes</span> </label> </div> </div> </div>', artefact: '<% var dataComparer = -1; %> <% var isSupportedFile = data.MIME_type.indexOf(\'pdf\') > -1 || data.MIME_type.indexOf(\'image\') > -1 %> <a <% if(isSupportedFile){ %>href="#documentview/<%= data.masked_artefact_version_id %>"<% } else{ %> style="cursor:default;" <% } %> class="review-request-item data-holder" data-pass="<% (function () { if (dataComparer == data.linkedId) { dataComparer = data.linkedId; return 1; } else { dataComparer = data.linkedId; return 0; } })() %>" data-id="<%= data.id %>" data-k-project_id="<%= data.project_id %>" data-key="artefacts"> <div class="rr-left"> <div class="rr-status status-<%= data.status %>"><%= function(){ if(data[\'document_type\'] == "U"){ return "UID"; }else if(data[\'document_type\'] === "I"){ return "IXD"; } else if(data[\'document_type\'] == "P") { return "IA"} else if(data[\'document_type\'] == "IA") { return "IA"} }() %></div> <img class="rr-owner-image" src="<%= data.image %>"/> </div> <div class="rr-right"> <div class="rr-title ellipsis" title="<%= data.title %><% if(!isSupportedFile){ %> - Unsupported format<% } %>"><%= data[\'project_name\'] %>: <%= data.title %></div> <div class="rr-details ellipsis" title="<%= sb.timeFormat(data[\'artefact_time\']) %> by <%= data[\'person_name\'] %>"><%= sb.timeFormat(data[\'artefact_time\']) %> by <%= data[\'person_name\'] %></div> <div class="rr-state-details"> <div class="rr-state"> <span class="artefact-cur-version">v<%= data.version %></span> <div class="rr-other-versions"></div> <div class="rr-comment"> <svg><use xlink:href="#baloon"></use></svg> <div class="rr-comment-count"><%= data.comment_count %></div> </div> </div> </div> </div> <div class="requests-dropdown html-click prevent-default" data-html-class="active"> <div class="requests-dropdown-icon"> <svg><use xlink:href="#dropdown"></use></svg> </div> <div class="requests-dropdown-items sub-menu-holder small"> <div class="popup-click sub-menu-item" data-url="archive-artefact"> <div class="item-icon"> <svg><use xlink:href="#archive1"></use></svg> </div> <div class="sub-menu-item-text">Archive</div> </div> <div class="popup-click sub-menu-item" data-url="replace-artefact"> <div class="item-icon"> <svg><use xlink:href="#replace"></use></svg> </div> <div class="sub-menu-item-text">Replace</div> </div> <div class="popup-click sub-menu-item" data-url="add-version"> <div class="item-icon"> <svg><use xlink:href="#addversion"></use></svg> </div> <div class="sub-menu-item-text">Add Version</div> </div> <div class="popup-click sub-menu-item" data-url="share-artefact" data-index="3"> <div class="item-icon"> <svg><use xlink:href="#share"></use></svg> </div> <div class="sub-menu-item-text">Share</div> </div> <div class="popup-click sub-menu-item" data-url="delete-artefact"> <div class="item-icon"> <svg fill="#DBDCE0"><use xlink:href="#delete"></use></svg> </div> <div class="sub-menu-item-text">Delete </div> </div> </div> </div> </a>', 'new-file': '<div class="notification-item S-type"> <svg class="notification-s-type-icon"><use xlink:href="#file"></use></svg> <div class="close-icon"> <svg><use xlink:href="#close"></use></svg> </div> <div class="notification-title ellipsis" title="<%= data.name %>"> <%= data.name %> </div> <div class="notification-time"> <%= data.date %> by <%= data.username %> </div> </div>', notification: '<div class="day-notifications"> <div class="day-notifications-label"><%= key %></div> <div class="notifications-holder"> <% _.each(newData[key], function(n){ %> <div class="notification-item <%= n.type %>-type"> <% if(n.type == "S"){ %> <svg class="notification-s-type-icon"><use xlink:href="#file"></use></svg> <% } else if(n.type == "M"){ %> <% } %> <div class="notification-title ellipsis" title="<%= n.title %>"> <%= n.title %> </div> <div class="notification-time"> <%= sb.timeFormat(n.time) %> by <%= n.notifier %> </div> <% if(n.meetingDetails){ %> <div class="meeting-notify-section"> <div class="mn-left"> <div>Meeting @ Conference 2</div> <div class="mn-left-title"><%= n.meetingDetails.title %></div> <div class="meeting-notify-icon"></div> <div class="clock-icon"><svg><use xlink:href="#clock"></use></svg></div> </div> <div class="mn-right"> <div><%= sb.timeFormat(n.meetingDetails.time) %></div> <div><%= sb.getTime(n.meetingDetails.time) %></div> </div> </div> <% } %> </div> <% }); %> </div> </div>', person: '<div class="people-item-left"> <% if(data.picture !== "assets/imgs/avatar.svg"){ %> <img class="people-icon" src="<%= data.picture %>" /> <% } else { %> <svg class="people-icon"><use xlink:href="#avatar"></use></svg> <% } %> </div> <div class="people-item-right"> <div class="people-name-section data-holder" data-k-project_id="1" data-key="people" data-id="<%= data.id %>"> <div class="people-name inlineBlockTop"><%= data.name %></div> <div class="people-request-holder html-click sub-menu-nav inlineBlockTop"> <div class="requests-dropdown-icon"> <svg><use xlink:href="#dropdown"></use></svg> </div> <div class="sub-menu-holder left-nav bottom-nav"> <% if(data[\'is_owner\'] != "1") {%> <div class="sub-menu-item popup-click" data-url="removePeople" data-id="<%= data.id %>" > <div class="people-remove-icon"> <svg><use xlink:href="#delete"></use></svg> </div> <div class="sub-menu-item-text">Remove</div> </div> <%}%> <div class="sub-menu-item"> <div class="people-manage-icon"> <svg><use xlink:href="#lock1"></use></svg> </div> <div class="sub-menu-item-text">Manage Permissions</div> </div> </div> </div> </div> <div class="people-access-text"><% if(data[\'access_type\']=="X"){%> Can Edit & Share <%} else if(data[\'access_type\']==\'S\'){%> Can Share <%} else {%> Can Edit<%}%></div> </div>', 'share-people': '<% var accessType = sb.getAccessType(data[\'access_type\']) %> <div class="share-artefact-people-item" data-k-user_id="<%= data.id %>" data-access_type="<%= data[\'access_type\'] %>"> <div class="share-artefacts-img-holder"> <img class="share-artefacts-img" src=<%= data.picture%> /> </div> <span class="share-artefacts-text" title="<%= data.name %>"><%= data.name %></span> <% if(data[\'is_owner\'] != "1"){ %> <div class="share-artefact-people-item-section"> <div class="share-artefact-right-panel"> <div class="sarp-text">Can Add comments</div> <%= sb.toolbox.checkbox({ class: "add-comments-chk", toggle: true, dataName: "sharedTo", checked: !!+accessType[0], "data-array": "1" }) %> </div> <div class="share-artefact-right-panel"> <div class="sarp-text">Share with others</div> <%= sb.toolbox.checkbox({ class: "others-chk", toggle: true, dataName: "sharedTo", checked: !!+accessType[1], "data-array": "1" }) %> </div> <div class="sarp-checkbox-holder"> <%= sb.toolbox.checkbox({ class: "apply-to-all", text: "Apply to all users in this group", ignore: 1 }) %> </div> </div> <% } %> </div>', 'menu-header': '<div class="menu-profile"> <div class="menu-profile-img-dv"> <% if(data.picture !== "assets/imgs/avatar.svg"){ %> <img class="menu-profile-img" src="<%= data.picture %>" /> <% } else { %> <svg class="menu-profile-img"><use xlink:href="#avatar"></use></svg> <% } %> </div> <div class="menu-profile-text"> <div class="menu-profile-txt-nm"><%= data.name %></div> <div class="menu-profile-txt-dsgn"><%= data.designation %></div> </div> </div> <div class="menu-settings"> <a href="#" class="menu-settings-dshbd-dv page-click"> <div class="menu-settings-img menu-dashboard-icon"> <svg><use xlink:href="#dashboard"></use></svg> </div> <span class="menu-settings-txt">Dashboard</span> </a> <a href="#projects" class="menu-settings-dshbd-dv page-click hide"> <div class="menu-settings-img menu-archive-icon"> <svg fill="#BEC0CF"><use xlink:href="#archive-icn"></use></svg> </div> <span class="menu-settings-txt">Projects</span> </a> <a href="#" class="menu-settings-dshbd-dv page-click hide"> <div class="menu-settings-img menu-analytics-icon"> <svg><use xlink:href="#analytics"></use></svg> </div> <span class="menu-settings-txt">Analytics</span> </a> <a href="#" class="menu-settings-dshbd-dv page-click hide"> <div class="menu-settings-img menu-archive-icon"> <svg fill="#BEC0CF"><use xlink:href="#archive-icn"></use></svg> </div> <span class="menu-settings-txt">Archives</span> </a> <a href="#" class="menu-settings-dshbd-dv page-click hide"> <div class="menu-settings-img menu-settings-icon"> <svg><use xlink:href="#settings"></use></svg> </div> <span class="menu-settings-txt">Settings</span> </a> </div>', 'menu-projects-container': '<% if(data && data.length){ %> <% _.each(data, function(p){ %> <a href="#projectpage/<%= p.id %>" class="projects-img-dv"> <img src=\'http://lorempixel.com/sports/280/200\' class="menu-project-img" /> <span class="projects-img-dv-txt"><%= p.name %></span> </a> <% }); %> <% } else{ %> <div class="no-items"> No projects to show </div> <% } %>', 'menu-recent-activity': '<% if(data && data.length){ %> <% _.each(data, function(a){ %> <div class="menu-recent-cnt"> <div class="menu-recent-img-dv"> <svg><use xlink:href="#addfile"></use></svg> </div> <div class="menu-recent-cnt-txt"> <div class="menu-activity-name"><%= a.project_name %></div> <div class="menu-activity-title ellipsis" title="<%= a.artefact_title %>"><%= a.artefact_title %></div> </div> </div> <% }); %> <% } else { %> <div class="no-items"> No Recent activities to show </div> <% } %>', 'menu-recent-notifications': '<% if(data && data.length){ %> <% _.each(data, function(d){ %> <div class="menu-notifications-cnt"> <div class="menu-notifications-img-dv"> <svg class="menu-notifications-img"><use xlink:href="#calendar"></use></svg> </div> <div class="menu-notifications-txt"> <span class="menu-notifications-txt-nm">Conflux:Designer</span> <span class="menu-notifications-txt-tm"><%= sb.timeFormat(d.time) %> by <%= d.notifier %></span> <% if(d.meetingDetails){ %> <div class="menu-notifications-txt-dttme"> <svg class="menu-notifications-txt-dttme-img"><use xlink:href="#clock"></use></svg> <%= sb.timeFormat(d.meetingDetails.time, true) %>, <%= sb.getTime(d.meetingDetails.time) %> </div> <% } %> </div> </div> <% }); %> <% } else{ %> <div class="no-items"> No notifications to show </div> <% } %>', 'menu-recent-people': '<% if(data && data.length){ %> <% _.each(data, function(p){ %> <div class="menu-recent-people-cnt"> <% if(p.picture == "assets/imgs/avatar.svg"){ %> <svg><use xlink:href="#avatar" class="menu-people-img"></use></svg> <% } else { %> <img src="<%= p.picture %>" class="menu-people-img" /> <% } %> </div> <% }); %> <% } else{ %> <div class="no-items"> No added people </div> <% } %>', 'nav-menu': ' <!-- Menu Header --> <div class="menu-header"> </div> <!-- Menu Projects Container --> <div class="menu-projects-container"> <p class="projects-hd">Projects - <a style="color: inherit;font-size: 0.8em;"href="#projects">Show all</a></p> <div class="menu-projects-section"> </div> </div> <!-- Menu Recent --> <div class="menu-recent"> <div class="menu-recent-activity"> <p class="recent-hd">Recent Artefacts</p> <div class="menu-recent-activity-section"> </div> </div> <div class="menu-recent-requests"> <p class="recent-hd">Shared Artefacts</p> <div class="menu-recent-requests-section"> </div> </div> <div class="menu-recent-notifications"> <p class="notifications-hd">Notifications</p> <div class="menu-recent-notifications-section"> </div> </div> <div class="menu-recent-people"> <p class="people-hd">People</p> <div class="menu-recent-people-section"> </div> </div> </div> <!-- Menu End -->', summary: '<div class="overlay summary-section-overlay view"> <div class="summary-section-header"> <div class="summary-header-left"> <div class="review-request-item" > <div class="rr-left"> <div class="rr-status status-<%= data.basicDetails.status %>">IXD</div> <img class="rr-owner-image" title="<%=data.basicDetails.authorName %>" src="<%= data.basicDetails.authorImage %>"/> </div> <div class="rr-right"> <div class="rr-title ellipsis" title="<%= data.basicDetails.title %>"><%= data.basicDetails.title %></div> <div class="rr-details ellipsis" title="Version <%=data.basicDetails.versionNo%>.0">Version <%=data.basicDetails.versionNo%>.0</div> <div class="rr-state-details"> <div class="rr-state-x"> <div class="rr-comment"> <svg><use xlink:href="#baloon"></use></svg> <div class="rr-comment-count"><%= data.basicDetails[\'comment_count\'] %></div> </div> <div class="status-c secondary-status-rr"></div> </div> </div> </div> </div> </div> <div class="summary-header-right"> <div class="summary-header-actions"> <div class="summary-header-action-item submit-action-icon"> <svg class="summary-header-icon"><use xlink:href="#submit"></use></svg> Submit </div> <div class="summary-header-action-item archive-action-icon"> <svg class="summary-header-icon" fill="#6A6F82"><use xlink:href="#archive-icn"></use></svg> Archive </div> <div class="summary-header-action-item delete-action-icon"> <svg fill="#6A6F82" class="summary-header-icon"><use xlink:href="#delete"></use></svg> Delete </div> </div> </div> </div> <div class="summary-section-body unselectable"> <div class="close-icon"><svg><use xlink:href="#close"></use></svg></div> <div class="time-frame-section"> <div class="time-frame-extended mg-parent"> <% for(var v in data.timeline){ %> <div class="time-frame-holder mg-holder"> <div class="time-frame-item mg-item"> <div class="time-frame"> <%_.each(data.timeline[v], function(item) {%> <% if(item.type === "links") {%> <div class="file-type top-viewer"> <% } else if(item.type === "shared") {%> <div class="user-type top-viewer"> <div class="user-type-viewer top-hover-viewer"> <div class="user-type-content"> <div class="tf-images"> <img src=<%= item.profPic %> /> </div> <div class="tf-more-people"><%= sb.timeFormat(item.shared_date,true,true)%> @<%= sb.getTime(item.shared_date) %></div> </div> </div> <% } else if(item.type === "versions") {%> <div class="version-type top-viewer">v <%= item.version_no %> <% } else if(item.type === "meetings") {%> <div class="meeting-type top-viewer"> <% } else if(item.type === "references") {%> <div class="file-type top-viewer"> <% } else if(item.type === "comments") {%> <div class="comment-type top-viewer"> <% }%> <% }) %></%> <%_.each(data.timeline[v], function(item) {%> </div> <% }) %></%> <div class="time-frame-date"><%= sb.timeFormat(v+" 00:00:00", true, true)%></div> </div> </div> </div> <% } %> </div> <div class="time-frame-selector mg-parent"> <% _.each(data.versions, function(v){ %> <div class="time-frame-holder mg-holder"> <div class="time-selector-item mg-item"> <div class="time-frame"> <div class="version-type top-viewer">v<%= v.version_no %></div> <div class="time-frame-date"><%= sb.timeFormat(v.created_date, true)%></div> </div> </div> </div> <% }); %> <div class="time-frame-holder mg-holder"> <div class="time-selector-item mg-item"> <div class="time-frame"> <div class="current-type top-viewer"> <svg><use xlink:href="#currentdate"></use></svg> </div> <div class="time-frame-date"><%= sb.timeFormat(new Date(), true, true)%></div> </div> </div> </div> </div> <div class="slider-component"> <div class="slider-left"></div> <div class="slider-right"></div> </div> </div> </div> <div class="summary-section-footer"> <div class="summary-footer-item">Summary</div> <div class="summary-footer-item">Notes</div> </div> <div class="summary-section-below-content"> <div class="summary-people-section"> <div class="sub-heading-section"> <div class="artifacts-heading sub-heading"> <div class="sub-heading-label">Shared with</div> <div class="sub-heading-add-wrapper"> <div class="sub-heading-add-icon"> <svg><use xlink:href="#add"></use></svg> </div> </div> </div> </div> <div class="sub-section-content"> <% _.each(data.sharedTo, function(d){ %> <div class="summary-people-item"> <div class="sp-left"> <img title"<%= d.name%>" src="<%= d.userImage%>" /> </div> <div class="sp-right"> <div class="sp-name ellipsis" title"<%= d.name%>"><%= d.name%></div> <div class="sp-below-section"> <div class="rr-comment"> <svg><use xlink:href="#baloon"></use></svg> <div class="rr-comment-count"><%= d[\'comment_count\'] %></div> </div> <div class="status-c secondary-status-rr"></div> </div> </div> </div> <% }); %> </div> </div> <div class="summary-versions-section"> <div class="sub-heading-section"> <div class="sub-heading"> <div class="sub-heading-label">Versions</div> <div class="sub-heading-add-wrapper"> <div class="sub-heading-add-icon"> <svg><use xlink:href="#add"></use></svg> </div> </div> </div> </div> <div class="sub-section-content"> <a class="summary-compare-btn" href="">Compare selected</a> <% _.each(data.versions, function(d){ %> <% if(d.artefact_ver_id !== data.basicDetails.versionId){ %> <div class="summary-version-item"> <label class="checkbox"> <input type="checkbox"></input> <span> <span class="version-type">v<%=d.version_no %></span> <div class="doc-type" title="<%= data.basicDetails.title %>"><%= data.basicDetails.title %></div> </span> </label> <div class="summary-version-date"> <span><%= sb.timeFormat(d.created_date, true)%></span> <a class="page-click" href="#documentview/<%= d[\'masked_artefact_version_id\'] %>">Open</a> </div> </div> <% } %> <% }); %> </div> </div> <div class="summary-references-section"> <div class="sub-heading-section"> <div class="sub-heading"> <div class="sub-heading-label">References</div> <div class="sub-heading-add-wrapper"> <div class="sub-heading-add-icon"> <svg><use xlink:href="#add"></use></svg> </div> </div> </div> </div> <div class="sub-section-content"> <% _.each(data.references, function(d){ %> <div class="summary-reference-item ellipsis" title="<%= d.title %>"> <%= d.title %> </div> <% }); %> </div> </div> <div class="summary-linked-artefacts-section"> <div class="sub-heading-section"> <div class="sub-heading"> <div class="sub-heading-label">Linked Artefacts</div> <div class="sub-heading-add-wrapper"> <div class="sub-heading-add-icon"> <svg><use xlink:href="#add"></use></svg> </div> </div> <div class="sub-section-content"> <% _.each(data.links, function(d){ %> <div class="linked-item" title="<%= d.artefact_title %>"> <svg class="linked-item-icon"><use xlink:href="#linkIcon"></use></svg> <%= d.artefact_title %> </div> <% }); %> </div> </div> </div> </div> </div> </div> ', 'add-people': '<div class="popup popup-add-people k-form"> <%= sb.setTemplate(\'popup-header\', { title: data.title, close: true }) %> <div class="popup-body k-field" data-k-project_id="<%= Kenseo.popup.data.id %>"> <div class="popup-body-wrapper"> <div class="add-people-text-project"> Add People under <%= Kenseo.popup.data.project_name %> Project </div> <%= sb.toolbox.textBox({ placeholder: "Enter mail ID. Use comma to add multiple people.", inputClass: "xm required k-field", dataName: \'people\', attr: { \'data-validate-this\': \'empty\', \'data-xtype\': \'text-with-comma\', \'data-xtype-key\': \'users\' } }) %> <div class="existing-users-section"> <% _.each(data.existingUsers, function(u){ %> ,&nbsp;<%= u.mailId %> <% }) %> </div> <div class="people-permissions-section"> <div class="permissions-header">This Person(s) can</div> <div class="permissions-wrapper k-field" data-xtype="access_type"> <div class="permission-item"> <div class="permission-item-text">Add comments</div> <div class="checkbox-holder"> <label class="toggle-checkbox"> <input type="checkbox" data-subtype="comments"></input><span></span> </label> </div> </div> <div class="permission-item"> <div class="permission-item-text">Share with others</div> <div class="checkbox-holder"> <label class="toggle-checkbox"> <input type="checkbox" data-subtype="share"></input><span></span> </label> </div> </div> </div> </div> </div> </div> <div class="buttons-section"> <%= sb.toolbox.buttons({"data": data}) %> </div> </div>', 'add-project': '<div class="popup popup-small k-form"> <%= sb.setTemplate(\'popup-header\', { title: data.title, close: true }) %> <div class="popup-body"> <div class="popup-body-wrapper"> <%= sb.toolbox.textBox({ placeholder: "Project name", inputClass: "project-input required k-field", dataName : "projectName", attr: { \'data-validate-this\': \'empty\', \'data-xtype\': \'text\', \'data-xtype-key\': \'projectName\' } }) %> </div> </div> <div class="buttons-section"> <%= sb.toolbox.buttons({"data": data}) %> </div> </div>', 'archive-one': '<% var data = Kenseo.popup.info[index] %> <div class="popup popup-small"> <%= sb.setTemplate(\'popup-header\', { title: data.title, close: true }) %> <div class="popup-body"> <div class="popup-body-wrapper"> <select class="projects-dropdown dropdown"> </select> </div> </div> <div class="buttons-section"> <%= sb.toolbox.buttons({"data": data}) %> </div> </div>', 'artefact-four': '<% var dump = sb.getPopupData() %> <div class="popup popup-large k-form"> <%= sb.setTemplate(\'popup-header\', { title: data.title, close: true }) %> <div class="popup-left-section"> <div class="meta-item"> <div class="meta-heading">Under</div> <div class="meta-text"><% if(dump.project_name){ %> <%= dump.project_name %><% } else if(dump.name){ %><%= dump.name %><% } else{ %><%= Kenseo.page.data.project.name %><% } %></div> </div> <div class="meta-item"> <div class="meta-heading">File</div> <div class="meta-text" title="<%= dump.fileName %>"><%= dump.fileName %></div> </div> <div class="meta-item"> <div class="meta-heading">Type</div> <% if(dump.doctype){ %> <div class="meta-text"><%= Kenseo.settings.doctype[dump.doctype[0][\'data-name\']] %></div> <% } %> </div> <div class="meta-item"> <div class="meta-heading">References</div> <% if(dump.references){ %> <% var references = dump.references.map(function(e){return e.name}).join(", ") %> <div class="meta-text" title="<%= references %>"><%= references %></div> <% } %> </div> <div class="meta-item"> <div class="meta-heading">Tags</div> <div class="meta-text"> <% if(dump.tags){ %> <%= dump.tags.value %> <% } %> </div> </div> </div> <div class="popup-body"> <div class="popup-body-wrapper popup-right-section"> <div class="your-team-section"> <div class="your-team-heading">Your Team</div> <form class="your-team-body"> <div class="field-section your-team-field" data-name="new-people"> <form> <% var fields = { shareCombo: sb.toolbox.comboBox({ "label": "Add People", "class": "xm people-combobox", "dataName": "otherMembers", "placeholder": "Add People" }) } %> <%= fields.shareCombo %> </form> </div> <div class="share-artefact-people"> <div class="share-artefact-people-wrapper k-field" data-xtype="share-permissions" data-xtype-key="shared_members"> </div> </div> </form> </div> </div> </div> <div class="buttons-section"> <%= sb.toolbox.buttons({"data": data}) %> </div> </div>', 'artefact-one': '<div class="popup popup-small"> <%= sb.setTemplate(\'popup-header\', { title: data.title, close: true }) %> <div class="popup-body"> <div class="popup-body-wrapper"> <%= sb.toolbox.comboBox({ "fieldClass": "flt-none", "class": "projects-dropdown", }) %> </div> </div> <div class="buttons-section"> <%= sb.toolbox.buttons({"data": data}) %> </div> </div>', 'artefact-three': '<% var dump = sb.getPopupData() %> <div class="popup popup-large"> <%= sb.setTemplate(\'popup-header\', { title: data.title, close: true }) %> <div class="popup-left-section"> <div class="meta-item"> <div class="meta-heading">Under</div> <div class="meta-text"><% if(dump.project_name){ %> <%= dump.project_name %><% } else if(dump.name){ %><%= dump.name %><% } else{ %><%= Kenseo.page.data.project.name %><% } %></div> </div> <div class="meta-item"> <div class="meta-heading">File</div> <div class="meta-text"><%= dump.fileName %></div> </div> </div> <div class="popup-body"> <div class="popup-body-wrapper popup-right-section"> <form> <% var fields = { comboBoxOne: sb.toolbox.comboBox({ "label": "References", "class": "xm reference-combobox", "dataName": "references", "placeholder": "References" }), textBoxTwo: sb.toolbox.textBox({ "label": "Tags", "inputClass": "tags-input-txt", "dataName": "tags", "placeholder": "Tags" }), comboBoxThree: sb.toolbox.comboBox({ "label": "Links", "class": "xm links-combobox", "dataName": "links", "placeholder": "Links" }), comboBoxFour: sb.toolbox.comboBox({ \'label\': \'Document Type\', \'class\': \'xm doctype-combobox\', \'dataName\': \'doctype\', \'placeholder\': \'Document Type\', \'labelClass\': \'required\' }) } %> <%= fields.comboBoxFour %> <%= fields.comboBoxOne %> <%= fields.textBoxTwo %> <%= fields.comboBoxThree %> </form> </div> </div> <div class="buttons-section"> <%= sb.toolbox.buttons({"data": data}) %> </div> </div>', 'artefact-two': '<% var dump = sb.getPopupData() %> <div class="popup popup-large"> <%= sb.setTemplate(\'popup-header\', { title: data.title, close: true }) %> <div class="popup-left-section"> <div class="meta-item"> <div class="meta-heading">Under</div> <div class="meta-text"><% if(dump.project_name){ %> <%= dump.project_name %><% } else if(dump.name){ %><%= dump.name %><% } else{ %><%= Kenseo.page.data.project.name %><% } %></div> </div> </div> <div class="popup-body"> <div class="popup-body-wrapper popup-right-section"> <div class="files-section"> <label class="upload-file-section"> <input type="file" class="upload-files-input"></input> <div class="file-heading"> Upload a new file </div> <div class="uploader-section"> <div class="uploader-section-img"> <svg><use xlink:href="#pdfnpng"></use></svg> </div> </div> </label> <span class="or-btn">Or</span> <div class="create-file-section"> <% if(data.chooseExistingFile){ %> <div class="file-heading"> Choose an existing file </div> <%= sb.toolbox.comboBox({ "class": "xm choose-file-combobox", "dataName": "choose-existing-file" }) %> <% } else{ %> <div class="file-heading"> Create file </div> <% } %> <% if(data.show_coming_soon){ %> <div class="coming-soon-text">Coming soon!</div> <% } %> <div class="choose-existing-file-holder"> </div> </div> </div> <div class="files-list"> <div class="create-file-item"> <div class="notification-item S-type"> <svg class="notification-s-type-icon"><use xlink:href="#file"></use></svg> <div class="notification-title"> Balfour: Image Share </div> <div class="notification-time"> @ 11:20 AM by Rakesh </div> </div> <div class="create-file-close-icon"> <svg><use xlink:href="#close"></use></svg> </div> </div> </div> <% if(data.allow_artefact_selection){ %> <label class="checkbox"> <input type="checkbox" disabled="true" class="existing-files-chk"></input> <span>This is a new version of an existing file</span> </label> <%= sb.toolbox.comboBox({ "class": "xm existing-files-combobox", "dataName": "choose-file" }) %> <% } %> </div> </div> <div class="buttons-section"> <%= sb.toolbox.buttons({"data": data}) %> </div> </div>', 'cover-image': '<div class="popup popup-large"> <%= sb.setTemplate(\'popup-header\', { title: data.title, close: true }) %> <div class="popup-body"> <div class="popup-body-wrapper"> <div class="image-cover-section"> <label class="upload-file-section"> <input type="file" class="upload-files-input" accept="image/*"></input> <div class="file-heading"> Click to upload image </div> <div class="uploader-section"> <div class="uploader-section-img"> <svg><use xlink:href="#pdfnpng"></use></svg> </div> </div> </label> </div> <div class="cover-image-viewer"> <div class="img-wrapper"> <img class="img-content" src="" /> <img class="pan-img" src="assets/imgs/blank.png" /> </div> </div> </div> </div> <div class="buttons-section"> <%= sb.toolbox.buttons({"data": data}) %> </div> </div>', createInvite: '<% var toolbox = sb.toolbox %> <div class="popup popup-meeting k-form"> <%= sb.setTemplate(\'popup-header\', { title: data.title, close: true }) %> <div class="popup-body"> <div class="popup-body-wrapper"> <form class="meeting-invite-form"> <%= toolbox.comboBox({ "label": "Project", "class": "xm project-combobox", "dataName": "meetingProject", "placeholder": "Choose Project" }) %> <%= toolbox.comboBox({ "label": "Artefact", "class": "xm artefact-combobox", "dataName": "meetingArtefact", "placeholder": "Choose Artefact" }) %> <%= toolbox.textBox({ "label": "Agenda", textArea: true, dataName: "agenda", "inputClass": "input-meeting-textarea meeting-agenda" }) %> <div style="clear: both; padding-top: 20px;"> <div class="field-section in-line" data-name="date" data-ignore="1"> <div class="input-label">Scheduled on</div> <div class="input-wrapper float-left mini-datepicker"> <input type="text" class="input-meeting-date float-left"></input> <div class="datepicker-icon-holder float-left"> <div class="datepicker-icon"> <svg><use xlink:href="#calendar"></use></svg> </div> </div> </div> </div> <div class="field-section in-line" data-name="fromTime"> <div class="input-wrapper float-left"> <div class="time-label">From</div> <select class="projects-dropdown dropdown mini-dropdown no-margin fromTime"> <option value="00:00">12:00 AM</option> <option value="01:00">01:00 AM</option> <option value="02:00">02:00 AM</option> <option value="03:00">03:00 AM</option> <option value="04:00">04:00 AM</option> <option value="05:00">05:00 AM</option> <option value="06:00">06:00 AM</option> <option value="07:00">07:00 AM</option> <option value="08:00">08:00 AM</option> <option value="09:00">09:00 AM</option> <option value="10:00">10:00 AM</option> <option value="11:00">11:00 AM</option> <option value="12:00">12:00 PM</option> <option value="13:00">01:00 PM</option> <option value="14:00">02:00 PM</option> <option value="15:00">03:00 PM</option> <option value="16:00">04:00 PM</option> <option value="17:00">05:00 PM</option> <option value="18:00">06:00 PM</option> <option value="19:00">07:00 PM</option> <option value="20:00">08:00 PM</option> <option value="21:00">09:00 PM</option> <option value="22:00">10:00 PM</option> <option value="23:00">11:00 PM</option> </select> </div> </div> <div class="field-section in-line" data-name="toTime"> <div class="input-wrapper float-left"> <div class="time-label">To</div> <select class="projects-dropdown dropdown no-margin mini-dropdown toTime"> <option value="00:00">12:00 AM</option> <option value="01:00">01:00 AM</option> <option value="02:00">02:00 AM</option> <option value="03:00">03:00 AM</option> <option value="04:00">04:00 AM</option> <option value="05:00">05:00 AM</option> <option value="06:00">06:00 AM</option> <option value="07:00">07:00 AM</option> <option value="08:00">08:00 AM</option> <option value="09:00">09:00 AM</option> <option value="10:00">10:00 AM</option> <option value="11:00">11:00 AM</option> <option value="12:00">12:00 PM</option> <option value="13:00">01:00 PM</option> <option value="14:00">02:00 PM</option> <option value="15:00">03:00 PM</option> <option value="16:00">04:00 PM</option> <option value="17:00">05:00 PM</option> <option value="18:00">06:00 PM</option> <option value="19:00">07:00 PM</option> <option value="20:00">08:00 PM</option> <option value="21:00">09:00 PM</option> <option value="22:00">10:00 PM</option> <option value="23:00">11:00 PM</option> </select> </div> </div> </div> <%= toolbox.textBox({ "label": "Venue", inputClass: "meeting-location", dataName: "location" }) %> <%= toolbox.comboBox({ "label": "Recipients List", fieldClass: "recipients-field-section", "class": "xm people-name tags-combobox", "dataName": "attendees" }) %> </form> </div> </div> <div class="buttons-section"> <%= sb.toolbox.buttons({"data": data}) %> </div> </div> ', message: '<div class="popup popup-message k-form"> <%= sb.setTemplate(\'popup-header\', { title: data.title, close: true }) %> <div class="popup-body k-field"> <div class="popup-body-wrapper"> <%= data.message() %> </div> </div> <div class="buttons-section"> <%= sb.toolbox.buttons({"data": data}) %> </div> </div>', 'popup-header': '<div class="popup-header"> <%= title %> <% if(close) { %> <div class="popup-close-icon"> <svg><use xlink:href="#close"></use></svg> </div> <% } %> </div>', activities: '<% var newData = sb.getDayWiseData(data) %> <% var svgicons = { "user-added": "#icon11", "artefact-share": "#icon11", "artefact-approved": "#file12", "artefact-added": "#addfile", "artefact-comment": "#icon15", "meeting-added": "#icon4", "user-removed": "#icon2" } %> <div class="sub-heading-section"> <div class="sub-heading"> <div class="sub-heading-label">Activity</div> </div> </div> <div class="activity-section-content sub-section-content"> <% if(newData){ %> <% for(var key in newData){ %> <div class="day-activity"> <div class="day-activity-label"> <%= key %> </div> <div class="day-activity-section"> <% _.each(newData[key], function(a){ %> <% var activityTypeX = a.activityOn.toLowerCase() + "-" + a.activityType.toLowerCase() %> <% console.log(activityTypeX) %> <div class="activity-holder"> <div class="activity-left"> <div class="activity-icon"> <svg><use xlink:href="<%= svgicons[activityTypeX] %>"></use></svg> </div> </div> <div class="activity-right"> <div class="activity-title ellipsis" title="<%= a.activityName %>"><%= a.project_name %>: <% if(a.activityType.toLowerCase() === "removed" && a.activityName.toLowerCase() === "user"){ %> <%= a.activityType %> <%= a.activityName %> <% } else { %> <%= a.activityName %> <% } %> </div> <div class="activity-details ellipsis" title="<%= a.doneBy %>"> <div class="activity-time"><%= sb.timeFormat(a.time) %></div> <div class="activity-sender"> by <%= a.doneBy %></div> </div> </div> </div> <% }); %> </div> </div> <% } %> <% } else{ %> <div class="no-items"> No activies yet </div> <% } %> </div> ', people: '<div class="sub-heading-section"> <div class="sub-heading"> <div class="sub-heading-label">People</div> <div class="sub-heading-add-wrapper"> <div class="sub-heading-add-icon popup-click" data-url="add-people"> <svg><use xlink:href="#add"></use></svg> </div> </div> </div> </div> <div class="people-section-content sub-section-content"> </div>', 'project-page': '<div class="project-heading data-holder" data-key="projects" data-id="<%= Kenseo.page.id %>"> <div class="projects-heading-icon"> <svg><use xlink:href="#projects"></use></svg> </div> <span class="heading-text-project">Projects > </span> <span class="heading-text-project-name"><%= Kenseo.page.data.project.name %></span> <div class="main-section-project-icon-holder html-click sub-menu-nav inlineBlockTop" data-html-class="active"> <div class="sub-heading-more-icon"> <svg><use xlink:href="#more"></use></svg> </div> <div class="sub-menu-holder right-nav bottom-nav"> <div class="sub-menu-item popup-click" data-url="add-artefact" data-index="1">Add an Artefact</div> <div class="sub-menu-item popup-click" data-url="add-people">Add People</div> <div class="sub-menu-item popup-click" data-url="create-meeting">Create a Meeting</div> <div class="sub-menu-item">Share a Project</div> <div class="sub-menu-item popup-click" data-url="archive-project">Archive a Project</div> <div class="sub-menu-item popup-click hide">Delete a Project</div> <div class="sub-menu-item popup-click" data-url="cover-image">Add Cover Image</div> </div> </div> </div> <div class="project-section-content data-holder" data-key="projects" data-id="<%= Kenseo.page.id %>"> <div class="artifacts-section review-requests-content sub-section"> </div> <div class="activity-section sub-section"> </div> <div class="people-section sub-section"> </div> </div> ', button: '<button type="button" <% if(data.disabled){ %> disabled="true" autocomplete="off" <% } %> class="<%= data.cls %> <% if(data.label === "Proceed" || data.label === "Back"){ %>nav-btn<% } %>" <% if(data.label === "Proceed"){ %> data-index="<%= +data.index+1 %>" <% } else if(data.label === "Back"){ %> data-index="<%= +data.index-1 %>" <% } %> <%= sb.setTemplate(\'attributes\', {data: data}) %> ><%= data.label %> </button>', buttons: '<% var buttons = data.buttons %> <% for(var i=0; i < buttons.length; i++){ %> <% var b = buttons[i]; %> <% if(!isNaN(Number(data.index))){ %> <% _.extend(b, { index: data.index }) %> <% } %> <%= sb.toolbox.button({data: b}) %> <% }; %>', checkbox: '<div class="field-section" <% if(data[\'dataName\']) { %>data-name=<%= data.dataName %><% } %> <% if(data[\'data-array\']){ %> data-array="<%= data[\'data-array\'] %>" <% } %>> <label class="<% if(data.toggle){ %>toggle-checkbox<% } else {%>checkbox<% } %> <%= data.class %>"> <input type="checkbox" <% if(data.checked == true){ %> checked <% } %> <%= sb.setTemplate(\'attributes\', {data: data}) %> ></input> <span><%= data.text %></span> </label> </div>', combobox: '<div class="field-section <% if(data.fieldClass){ %><%= data.fieldClass %><% } %>" <% if(data.dataName){ %> data-name="<%= data.dataName %>" <% } %>> <% if(data.label){ %><div class="input-label <% if(data.labelClass) {%><%= data.labelClass %><% } %>"><%= data.label %></div><% } %> <div class="combobox <% if(data.class){ %><%= data.class %><% } %>" data-xtype="<%= data[\'data-xtype\'] %>" <% if(data[\'data-xtype-key\']){ %>data-xtype-key="<%= data[\'data-xtype-key\'] %>"<% } %>> <div class="combobox-wrapper"> <input type="text" placeholder="<%= data.placeholder %>"> </div> </div> </div>', textbox: '<div class="field-section" <% if(data.dataName){ %> data-name="<%= data.dataName %>" <% } %>> <% if(data.label){ %><div class="input-label"><%= data.label %></div><% } %> <div class="input-wrapper"> <% if(!data.textArea){ %> <input type="text" class="input-text <% if(data.inputClass) { %><%= data.inputClass %> <% } %>" <% if(data.placeholder){ %>placeholder="<%= data.placeholder %>" <% } %> <%= sb.setTemplate(\'attributes\', {data: data}) %> ></input> <% } else { %> <textarea class="<% if(data.inputClass) { %><%= data.inputClass %> <% } %>" <% if(data.placeholder){ %>placeholder="<%= data.placeholder %>" <% } %> <%= sb.setTemplate(\'attributes\', {data: data}) %> ></textarea> <% } %> </div> <% if(data.enableSuggestions){ %> <div class="field-suggestions"></div> <div class="field-suggestions-viewer"></div> <% } %> </div>', attributes: '<% if(data.attr && typeof data.attr == "object"){ var attributes = data.attr; for(var key in attributes){ %> <%= key %> = "<%= attributes[key] %>" <%	} } %>'
}